(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84143,(e,t,r)=>{var i={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],i=t[1];return(r+i)*3/4-i},t.toByteArray=function(e){var t,r,s=l(e),a=s[0],o=s[1],u=new n((a+o)*3/4-o),c=0,h=o>0?a-4:a;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===o&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===o&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,s=[],a=0,o=i-n;a<o;a+=16383)s.push(function(e,t,i){for(var n,s=[],a=t;a<i;a+=3)n=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[n>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===n?s.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===n&&s.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],i=[],n="u">typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}i[45]=62,i[95]=63},72:function(e,t,r){"use strict";var i=r(675),n=r(783),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var i=e,n=t;if(("string"!=typeof n||""===n)&&(n="utf8"),!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);var s=0|p(i,n),l=a(s),u=l.write(i,n);return u!==s&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(P(e,ArrayBuffer)||e&&P(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(P(e,SharedArrayBuffer)||e&&P(e.buffer,SharedArrayBuffer)))return function(e,t,r){var i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),i}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return o.from(c,t,r);var f=function(e){if(o.isBuffer(e)){var t=0|d(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(f)return f;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),a(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=a(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(u(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||P(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return A(e).length;default:if(n)return i?-1:E(e).length;t=(""+t).toLowerCase(),n=!0}}function f(e,t,r){var n,s,a,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var n="",s=t;s<r;++s)n+=O[e[s]];return n}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}(this,t,r);case"latin1":case"binary":return function(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}(this,t,r);case"base64":return n=this,s=t,a=r,0===s&&a===n.length?i.fromByteArray(n):i.fromByteArray(n.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var i=e.slice(t,r),n="",s=0;s<i.length;s+=2)n+=String.fromCharCode(i[s]+256*i[s+1]);return n}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function g(e,t,r,i,n){var s;if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(n)return -1;else r=e.length-1;else if(r<0)if(!n)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,i,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,i,n)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,i,n){var s,a=1,o=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var c=-1;for(s=r;s<o;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*a}else -1!==c&&(s-=s-c),c=-1}else for(r+l>o&&(r=o-l),s=r;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(e,s+d)!==u(t,d)){h=!1;break}if(h)return s}return -1}o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),P(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:+(i<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,i=o.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var s=e[r];if(P(s,Uint8Array)&&(s=o.from(s)),!o.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(i,n),n+=s.length}return i},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,r,i,n){if(P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;for(var s=n-i,a=r-t,l=Math.min(s,a),u=this.slice(i,n),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){s=u[h],a=c[h];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var s,a,o,l,u=e[n],c=null,h=u>239?4:u>223?3:u>191?2:1;if(n+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(s=e[n+1]))==128&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=e[n+1],a=e[n+2],(192&s)==128&&(192&a)==128&&(l=(15&u)<<12|(63&s)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[n+1],a=e[n+2],o=e[n+3],(192&s)==128&&(192&a)==128&&(192&o)==128&&(l=(15&u)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),n+=h}var d=i,p=d.length;if(p<=4096)return String.fromCharCode.apply(String,d);for(var f="",m=0;m<p;)f+=String.fromCharCode.apply(String,d.slice(m,m+=4096));return f}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,i,n,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function x(e,t,r,i,n,s){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function k(e,t,r,i,s){return t*=1,r>>>=0,s||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,i,23,4),r+4}function S(e,t,r,i,s){return t*=1,r>>>=0,s||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,i,52,8),r+8}o.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n,s,a,o,l,u,c,h,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var p=!1;;)switch(i){case"hex":return function(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;var s=t.length;i>s/2&&(i=s/2);for(var a=0;a<i;++a){var o,l=parseInt(t.substr(2*a,2),16);if((o=l)!=o)break;e[r+a]=l}return a}(this,e,t,r);case"utf8":case"utf-8":return n=t,s=r,R(E(e,this.length-n),this,n,s);case"ascii":return a=t,o=r,R(T(e),this,a,o);case"latin1":case"binary":return function(e,t,r,i){return R(T(t),e,r,i)}(this,e,t,r);case"base64":return l=t,u=r,R(A(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,R(function(e,t){for(var r,i,n=[],s=0;s<e.length&&!((t-=2)<0);++s)i=(r=e.charCodeAt(s))>>8,n.push(r%256),n.push(i);return n}(e,this.length-c),this,c,h);default:if(p)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),p=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,o.prototype),i},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var i=this[e],n=1,s=0;++s<t&&(n*=256);)i+=this[e+s]*n;return i},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var i=this[e+--t],n=1;t>0&&(n*=256);)i+=this[e+--t]*n;return i},o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var i=this[e],n=1,s=0;++s<t&&(n*=256);)i+=this[e+s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var i=t,n=1,s=this[e+--i];i>0&&(n*=256);)s+=this[e+--i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),n.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),n.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),n.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),n.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){var n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}var s=1,a=0;for(this[t]=255&e;++a<r&&(s*=256);)this[t+a]=e/s&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){var n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}var s=r-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,i){if(e*=1,t>>>=0,!i){var n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}var s=0,a=1,o=0;for(this[t]=255&e;++s<r&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,i){if(e*=1,t>>>=0,!i){var n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}var s=r-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,i){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,i);else if(this===e&&r<t&&t<i)for(var s=n-1;s>=0;--s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),t);return n},o.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){var n,s=e.charCodeAt(0);("utf8"===i&&s<128||"latin1"===i)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var a=o.isBuffer(e)?e:o.from(e,i),l=a.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=a[n%l]}return this};var _=/[^+/0-9A-Za-z-_]/g;function E(e,t){t=t||1/0;for(var r,i=e.length,n=null,s=[],a=0;a<i;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319||a+1===i){(t-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function T(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function A(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var O=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var i=16*r,n=0;n<16;++n)t[i+n]=e[r]+e[n];return t}()},783:function(e,t){t.read=function(e,t,r,i,n){var s,a,o=8*n-i-1,l=(1<<o)-1,u=l>>1,c=-7,h=r?n-1:0,d=r?-1:1,p=e[t+h];for(h+=d,s=p&(1<<-c)-1,p>>=-c,c+=o;c>0;s=256*s+e[t+h],h+=d,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=i;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),s-=u}return(p?-1:1)*a*Math.pow(2,s-i)},t.write=function(e,t,r,i,n,s){var a,o,l,u=8*s-n-1,c=(1<<u)-1,h=c>>1,d=5960464477539062e-23*(23===n),p=i?0:s-1,f=i?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(t*l-1)*Math.pow(2,n),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;e[r+p]=255&o,p+=f,o/=256,n-=8);for(a=a<<n|o,u+=n;u>0;e[r+p]=255&a,p+=f,a/=256,u-=8);e[r+p-f]|=128*m}}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},a=!0;try{i[e](r,r.exports,s),a=!1}finally{a&&delete n[e]}return r.exports}s.ab="/ROOT/my-app/node_modules/next/dist/compiled/buffer/",t.exports=s(72)},32599,e=>{"use strict";let t,r,i,n,s,a,o;var l,u,c,h,d,p,f,m,g,y,v,b,w,x,k,S,_,E,T,A,R,P,O,j,C,I,D,N,$,L,M,U,B,V,F,z,q,W,K,H,G,J=e.i(70839),Y=e.i(67839),X=e.i(4856);let Z="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Q(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function ee(e){return"nodeType"in e}function et(e){var t,r;return e?Q(e)?e:ee(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function er(e){let{Document:t}=et(e);return e instanceof t}function ei(e){return!Q(e)&&e instanceof et(e).HTMLElement}function en(e){return e instanceof et(e).SVGElement}function es(e){return e?Q(e)?e.document:ee(e)?er(e)?e:ei(e)||en(e)?e.ownerDocument:document:document:document}let ea=Z?Y.useLayoutEffect:Y.useEffect;function eo(e){let t=(0,Y.useRef)(e);return ea(()=>{t.current=e}),(0,Y.useCallback)(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return null==t.current?void 0:t.current(...r)},[])}function el(e,t){void 0===t&&(t=[e]);let r=(0,Y.useRef)(e);return ea(()=>{r.current!==e&&(r.current=e)},t),r}function eu(e,t){let r=(0,Y.useRef)();return(0,Y.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function ec(e){let t=eo(e),r=(0,Y.useRef)(null),i=(0,Y.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,i]}function eh(e){let t=(0,Y.useRef)();return(0,Y.useEffect)(()=>{t.current=e},[e]),t.current}let ed={};function ep(e,t){return(0,Y.useMemo)(()=>{if(t)return t;let r=null==ed[e]?0:ed[e]+1;return ed[e]=r,e+"-"+r},[e,t])}function ef(e){return function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return i.reduce((t,r)=>{for(let[i,n]of Object.entries(r)){let r=t[i];null!=r&&(t[i]=r+e*n)}return t},{...t})}}let em=ef(1),eg=ef(-1);function ey(e){if(!e)return!1;let{KeyboardEvent:t}=et(e.target);return t&&e instanceof t}function ev(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=et(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let eb=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[eb.Translate.toString(e),eb.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:i}=e;return t+" "+r+"ms "+i}}}),ew="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",ex={display:"none"};function ek(e){let{id:t,value:r}=e;return Y.default.createElement("div",{id:t,style:ex},r)}function eS(e){let{id:t,announcement:r,ariaLiveType:i="assertive"}=e;return Y.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":i,"aria-atomic":!0},r)}let e_=(0,Y.createContext)(null),eE={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},eT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function eA(e){var t;let r,{announcements:i=eT,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=eE}=e,{announce:o,announcement:l}=function(){let[e,t]=(0,Y.useState)("");return{announce:(0,Y.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),u=ep("DndLiveRegion"),[c,h]=(0,Y.useState)(!1);if((0,Y.useEffect)(()=>{h(!0)},[]),t=(0,Y.useMemo)(()=>({onDragStart(e){let{active:t}=e;o(i.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;i.onDragMove&&o(i.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;o(i.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;o(i.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;o(i.onDragCancel({active:t,over:r}))}}),[o,i]),r=(0,Y.useContext)(e_),(0,Y.useEffect)(()=>{if(!r)throw Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r]),!c)return null;let d=Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(ek,{id:s,value:a.draggable}),Y.default.createElement(eS,{id:u,announcement:l}));return n?(0,X.createPortal)(d,n):d}function eR(){}function eP(e,t){return(0,Y.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}(l=R||(R={})).DragStart="dragStart",l.DragMove="dragMove",l.DragEnd="dragEnd",l.DragCancel="dragCancel",l.DragOver="dragOver",l.RegisterDroppable="registerDroppable",l.SetDroppableDisabled="setDroppableDisabled",l.UnregisterDroppable="unregisterDroppable";let eO=Object.freeze({x:0,y:0});function ej(e,t){let{data:{value:r}}=e,{data:{value:i}}=t;return r-i}function eC(e,t){let{data:{value:r}}=e,{data:{value:i}}=t;return i-r}function eI(e){let{left:t,top:r,height:i,width:n}=e;return[{x:t,y:r},{x:t+n,y:r},{x:t,y:r+i},{x:t+n,y:r+i}]}function eD(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}let eN=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:i}=e,n=eI(t),s=[];for(let e of i){let{id:t}=e,i=r.get(t);if(i){let r=eI(i),a=Number((n.reduce((e,t,i)=>{var n;return e+(n=r[i],Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)))},0)/4).toFixed(4));s.push({id:t,data:{droppableContainer:e,value:a}})}}return s.sort(ej)},e$=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:i}=e,n=[];for(let e of i){let{id:i}=e,s=r.get(i);if(s){let r=function(e,t){let r=Math.max(t.top,e.top),i=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height);if(i<n&&r<s){let a=t.width*t.height,o=e.width*e.height,l=(n-i)*(s-r);return Number((l/(a+o-l)).toFixed(4))}return 0}(s,t);r>0&&n.push({id:i,data:{droppableContainer:e,value:r}})}}return n.sort(eC)};function eL(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:eO}let eM=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})};function eU(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}let eB={ignoreTransform:!1};function eV(e,t){void 0===t&&(t=eB);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:i}=et(e).getComputedStyle(e);t&&(r=function(e,t,r){let i=eU(t);if(!i)return e;let{scaleX:n,scaleY:s,x:a,y:o}=i,l=e.left-a-(1-n)*parseFloat(r),u=e.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),c=n?e.width/n:e.width,h=s?e.height/s:e.height;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l}}(r,t,i))}let{top:i,left:n,width:s,height:a,bottom:o,right:l}=r;return{top:i,left:n,width:s,height:a,bottom:o,right:l}}function eF(e){return eV(e,{ignoreTransform:!0})}function ez(e,t){let r=[];return e?function i(n){var s,a;let o;if(null!=t&&r.length>=t||!n)return r;if(er(n)&&null!=n.scrollingElement&&!r.includes(n.scrollingElement))return r.push(n.scrollingElement),r;if(!ei(n)||en(n)||r.includes(n))return r;let l=et(e).getComputedStyle(n);return(n!==e&&(void 0===(s=l)&&(s=et(n).getComputedStyle(n)),o=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=s[e];return"string"==typeof t&&o.test(t)}))&&r.push(n),void 0===(a=l)&&(a=et(n).getComputedStyle(n)),"fixed"===a.position)?r:i(n.parentNode)}(e):r}function eq(e){let[t]=ez(e,1);return null!=t?t:null}function eW(e){return Z&&e?Q(e)?e:ee(e)?er(e)||e===es(e).scrollingElement?window:ei(e)?e:null:null:null}function eK(e){return Q(e)?e.scrollX:e.scrollLeft}function eH(e){return Q(e)?e.scrollY:e.scrollTop}function eG(e){return{x:eK(e),y:eH(e)}}function eJ(e){return!!Z&&!!e&&e===document.scrollingElement}function eY(e){let t={x:0,y:0},r=eJ(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},n=e.scrollTop<=t.y,s=e.scrollLeft<=t.x;return{isTop:n,isLeft:s,isBottom:e.scrollTop>=i.y,isRight:e.scrollLeft>=i.x,maxScroll:i,minScroll:t}}(u=P||(P={}))[u.Forward=1]="Forward",u[u.Backward=-1]="Backward";let eX={x:.2,y:.2};function eZ(e){return e.reduce((e,t)=>em(e,eG(t)),eO)}function eQ(e,t){if(void 0===t&&(t=eV),!e)return;let{top:r,left:i,bottom:n,right:s}=t(e);eq(e)&&(n<=0||s<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}let e0=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+eK(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+eH(t),0)}]];class e1{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ez(t),i=eZ(r);for(const[t,n,s]of(this.rect={...e},this.width=e.width,this.height=e.height,e0))for(const e of n)Object.defineProperty(this,e,{get:()=>{let n=s(r),a=i[t]-n;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class e2{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var i;null==(i=this.target)||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function e5(e,t){let r=Math.abs(e.x),i=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+i**2)>t:"x"in t&&"y"in t?r>t.x&&i>t.y:"x"in t?r>t.x:"y"in t&&i>t.y}function e3(e){e.preventDefault()}function e4(e){e.stopPropagation()}(c=O||(O={})).Click="click",c.DragStart="dragstart",c.Keydown="keydown",c.ContextMenu="contextmenu",c.Resize="resize",c.SelectionChange="selectionchange",c.VisibilityChange="visibilitychange",(h=j||(j={})).Space="Space",h.Down="ArrowDown",h.Right="ArrowRight",h.Left="ArrowLeft",h.Up="ArrowUp",h.Esc="Escape",h.Enter="Enter",h.Tab="Tab";let e8={start:[j.Space,j.Enter],cancel:[j.Esc],end:[j.Space,j.Enter,j.Tab]},e6=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case j.Right:return{...r,x:r.x+25};case j.Left:return{...r,x:r.x-25};case j.Down:return{...r,y:r.y+25};case j.Up:return{...r,y:r.y-25}}};class e9{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new e2(es(t)),this.windowListeners=new e2(et(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(O.Resize,this.handleCancel),this.windowListeners.add(O.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(O.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&eQ(r),t(eO)}handleKeyDown(e){if(ey(e)){let{active:t,context:r,options:i}=this.props,{keyboardCodes:n=e8,coordinateGetter:s=e6,scrollBehavior:a="smooth"}=i,{code:o}=e;if(n.end.includes(o))return void this.handleEnd(e);if(n.cancel.includes(o))return void this.handleCancel(e);let{collisionRect:l}=r.current,u=l?{x:l.left,y:l.top}:eO;this.referenceCoordinates||(this.referenceCoordinates=u);let c=s(e,{active:t,context:r.current,currentCoordinates:u});if(c){let t=eg(c,u),i={x:0,y:0},{scrollableAncestors:n}=r.current;for(let r of n){let n=e.code,{isTop:s,isRight:o,isLeft:l,isBottom:u,maxScroll:h,minScroll:d}=eY(r),p=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:i,bottom:n}=e.getBoundingClientRect();return{top:t,left:r,right:i,bottom:n,width:e.clientWidth,height:e.clientHeight}}(r),f={x:Math.min(n===j.Right?p.right-p.width/2:p.right,Math.max(n===j.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(n===j.Down?p.bottom-p.height/2:p.bottom,Math.max(n===j.Down?p.top:p.top+p.height/2,c.y))},m=n===j.Right&&!o||n===j.Left&&!l,g=n===j.Down&&!u||n===j.Up&&!s;if(m&&f.x!==c.x){let e=r.scrollLeft+t.x,s=n===j.Right&&e<=h.x||n===j.Left&&e>=d.x;if(s&&!t.y)return void r.scrollTo({left:e,behavior:a});s?i.x=r.scrollLeft-e:i.x=n===j.Right?r.scrollLeft-h.x:r.scrollLeft-d.x,i.x&&r.scrollBy({left:-i.x,behavior:a});break}if(g&&f.y!==c.y){let e=r.scrollTop+t.y,s=n===j.Down&&e<=h.y||n===j.Up&&e>=d.y;if(s&&!t.x)return void r.scrollTo({top:e,behavior:a});s?i.y=r.scrollTop-e:i.y=n===j.Down?r.scrollTop-h.y:r.scrollTop-d.y,i.y&&r.scrollBy({top:-i.y,behavior:a});break}}this.handleMove(e,em(eg(c,this.referenceCoordinates),i))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function e7(e){return!!(e&&"distance"in e)}function te(e){return!!(e&&"delay"in e)}e9.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:i=e8,onActivation:n}=t,{active:s}=r,{code:a}=e.nativeEvent;if(i.start.includes(a)){let t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}return!1}}];class tt{constructor(e,t,r){var i;void 0===r&&(r=function(e){let{EventTarget:t}=et(e);return e instanceof t?e:es(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:n}=e,{target:s}=n;this.props=e,this.events=t,this.document=es(s),this.documentListeners=new e2(this.document),this.listeners=new e2(r),this.windowListeners=new e2(et(s)),this.initialCoordinates=null!=(i=ev(n))?i:eO,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(O.Resize,this.handleCancel),this.windowListeners.add(O.DragStart,e3),this.windowListeners.add(O.VisibilityChange,this.handleCancel),this.windowListeners.add(O.ContextMenu,e3),this.documentListeners.add(O.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(te(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(e7(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(O.Click,e4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(O.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:i,props:n}=this,{onMove:s,options:{activationConstraint:a}}=n;if(!i)return;let o=null!=(t=ev(e))?t:eO,l=eg(i,o);if(!r&&a){if(e7(a)){if(null!=a.tolerance&&e5(l,a.tolerance))return this.handleCancel();if(e5(l,a.distance))return this.handleStart()}return te(a)&&e5(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),s(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===j.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let tr={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ti extends tt{constructor(e){const{event:t}=e;super(e,tr,es(t.target))}}ti.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:i}=t;return!!r.isPrimary&&0===r.button&&(null==i||i({event:r}),!0)}}];(d=C||(C={}))[d.RightClick=2]="RightClick";(p=I||(I={}))[p.Pointer=0]="Pointer",p[p.DraggableRect=1]="DraggableRect",(f=D||(D={}))[f.TreeOrder=0]="TreeOrder",f[f.ReversedTreeOrder=1]="ReversedTreeOrder";let tn={x:{[P.Backward]:!1,[P.Forward]:!1},y:{[P.Backward]:!1,[P.Forward]:!1}};(m=N||(N={}))[m.Always=0]="Always",m[m.BeforeDragging=1]="BeforeDragging",m[m.WhileDragging=2]="WhileDragging",($||($={})).Optimized="optimized";let ts=new Map;function ta(e,t){return eu(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function to(e){let{callback:t,disabled:r}=e,i=eo(t),n=(0,Y.useMemo)(()=>{if(r||"u"<typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(i)},[r]);return(0,Y.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}function tl(e){return new e1(eV(e),e)}function tu(e,t,r){void 0===t&&(t=tl);let[i,n]=(0,Y.useState)(null);function s(){n(i=>{if(!e)return null;if(!1===e.isConnected){var n;return null!=(n=null!=i?i:r)?n:null}let s=t(e);return JSON.stringify(i)===JSON.stringify(s)?i:s})}let a=function(e){let{callback:t,disabled:r}=e,i=eo(t),n=(0,Y.useMemo)(()=>{if(r||"u"<typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(i)},[i,r]);return(0,Y.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}({callback(t){if(e)for(let r of t){let{type:t,target:i}=r;if("childList"===t&&i instanceof HTMLElement&&i.contains(e)){s();break}}}}),o=to({callback:s});return ea(()=>{s(),e?(null==o||o.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==a||a.disconnect())},[e]),i}let tc=[];function th(e,t){void 0===t&&(t=[]);let r=(0,Y.useRef)(null);return(0,Y.useEffect)(()=>{r.current=null},t),(0,Y.useEffect)(()=>{let t=e!==eO;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?eg(e,r.current):eO}function td(e){return(0,Y.useMemo)(()=>{let t,r;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:r=e.innerHeight,width:t,height:r}):null},[e])}let tp=[];function tf(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return ei(t)?t:e}let tm=[{sensor:ti,options:{}},{sensor:e9,options:{}}],tg={current:{}},ty={draggable:{measure:eF},droppable:{measure:eF,strategy:N.WhileDragging,frequency:$.Optimized},dragOverlay:{measure:eV}};class tv extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let tb={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:eR},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ty,measureDroppableContainers:eR,windowRect:null,measuringScheduled:!1},tw={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:eR,draggableNodes:new Map,over:null,measureDroppableContainers:eR},tx=(0,Y.createContext)(tw),tk=(0,Y.createContext)(tb);function tS(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tv}}}function t_(e,t){switch(t.type){case R.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case R.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case R.DragEnd:case R.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case R.RegisterDroppable:{let{element:r}=t,{id:i}=r,n=new tv(e.droppable.containers);return n.set(i,r),{...e,droppable:{...e.droppable,containers:n}}}case R.SetDroppableDisabled:{let{id:r,key:i,disabled:n}=t,s=e.droppable.containers.get(r);if(!s||i!==s.key)return e;let a=new tv(e.droppable.containers);return a.set(r,{...s,disabled:n}),{...e,droppable:{...e.droppable,containers:a}}}case R.UnregisterDroppable:{let{id:r,key:i}=t,n=e.droppable.containers.get(r);if(!n||i!==n.key)return e;let s=new tv(e.droppable.containers);return s.delete(r),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function tE(e){let{disabled:t}=e,{active:r,activatorEvent:i,draggableNodes:n}=(0,Y.useContext)(tx),s=eh(i),a=eh(null==r?void 0:r.id);return(0,Y.useEffect)(()=>{if(!t&&!i&&s&&null!=a){if(!ey(s)||document.activeElement===s.target)return;let e=n.get(a);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(ew)?e:e.querySelector(ew);if(t){t.focus();break}}})}},[i,t,n,a,s]),null}function tT(e,t){let{transform:r,...i}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...i}),r):r}let tA=(0,Y.createContext)({...eO,scaleX:1,scaleY:1});(g=L||(L={}))[g.Uninitialized=0]="Uninitialized",g[g.Initializing=1]="Initializing",g[g.Initialized=2]="Initialized";let tR=(0,Y.memo)(function(e){var t,r,i,n,s,a,o,l;let u,c,h,d,p,f,m,g,{id:y,accessibility:v,autoScroll:b=!0,children:w,sensors:x=tm,collisionDetection:k=e$,measuring:S,modifiers:_,...E}=e,[T,A]=(0,Y.useReducer)(t_,void 0,tS),[O,j]=function(){let[e]=(0,Y.useState)(()=>new Set),t=(0,Y.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,Y.useCallback)(t=>{let{type:r,event:i}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,i)})},[e]),t]}(),[C,$]=(0,Y.useState)(L.Uninitialized),M=C===L.Initialized,{draggable:{active:U,nodes:B,translate:V},droppable:{containers:F}}=T,z=null!=U?B.get(U):null,q=(0,Y.useRef)({initial:null,translated:null}),W=(0,Y.useMemo)(()=>{var e;return null!=U?{id:U,data:null!=(e=null==z?void 0:z.data)?e:tg,rect:q}:null},[U,z]),K=(0,Y.useRef)(null),[H,G]=(0,Y.useState)(null),[J,Q]=(0,Y.useState)(null),ee=el(E,Object.values(E)),er=ep("DndDescribedBy",y),en=(0,Y.useMemo)(()=>F.getEnabled(),[F]),es=(0,Y.useMemo)(()=>({draggable:{...ty.draggable,...null==S?void 0:S.draggable},droppable:{...ty.droppable,...null==S?void 0:S.droppable},dragOverlay:{...ty.dragOverlay,...null==S?void 0:S.dragOverlay}}),[null==S?void 0:S.draggable,null==S?void 0:S.droppable,null==S?void 0:S.dragOverlay]),{droppableRects:eo,measureDroppableContainers:ed,measuringScheduled:ef}=function(e,t){let{dragging:r,dependencies:i,config:n}=t,[s,a]=(0,Y.useState)(null),{frequency:o,measure:l,strategy:u}=n,c=(0,Y.useRef)(e),h=function(){switch(u){case N.Always:return!1;case N.BeforeDragging:return r;default:return!r}}(),d=el(h),p=(0,Y.useCallback)(function(e){void 0===e&&(e=[]),d.current||a(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[d]),f=(0,Y.useRef)(null),m=eu(t=>{if(h&&!r)return ts;if(!t||t===ts||c.current!==e||null!=s){let t=new Map;for(let r of e){if(!r)continue;if(s&&s.length>0&&!s.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,i=e?new e1(l(e),e):null;r.rect.current=i,i&&t.set(r.id,i)}return t}return t},[e,s,r,h,l]);return(0,Y.useEffect)(()=>{c.current=e},[e]),(0,Y.useEffect)(()=>{h||p()},[r,h]),(0,Y.useEffect)(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),(0,Y.useEffect)(()=>{h||"number"!=typeof o||null!==f.current||(f.current=setTimeout(()=>{p(),f.current=null},o))},[o,h,p,...i]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:null!=s}}(en,{dragging:M,dependencies:[V.x,V.y],config:es.droppable}),eg=eu(e=>{var t;return null==U?null:null!=(t=null!=p?p:e)?t:null},[p=(d=null!=U?B.get(U):void 0)?d.node.current:null,U]),ey=(0,Y.useMemo)(()=>J?ev(J):null,[J]),eb=(u=(null==H?void 0:H.autoScrollEnabled)===!1,c="object"==typeof b?!1===b.enabled:!1===b,h=M&&!u&&!c,"object"==typeof b?{...b,enabled:h}:{enabled:h}),ew=ta(eg,es.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:i,config:n=!0}=e,s=(0,Y.useRef)(!1),{x:a,y:o}="boolean"==typeof n?{x:n,y:n}:n;ea(()=>{if(!a&&!o||!t){s.current=!1;return}if(s.current||!i)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let n=eL(r(e),i);if(a||(n.x=0),o||(n.y=0),s.current=!0,Math.abs(n.x)>0||Math.abs(n.y)>0){let t=eq(e);t&&t.scrollBy({top:n.y,left:n.x})}},[t,a,o,i,r])}({activeNode:null!=U?B.get(U):null,config:eb.layoutShiftCompensation,initialRect:ew,measure:es.draggable.measure});let ex=tu(eg,es.draggable.measure,ew),ek=tu(eg?eg.parentElement:null),eS=(0,Y.useRef)({activatorEvent:null,active:null,activeNode:eg,collisionRect:null,collisions:null,droppableRects:eo,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),eE=F.getNodeFor(null==(t=eS.current.over)?void 0:t.id),eT=function(e){let{measure:t}=e,[r,i]=(0,Y.useState)(null),n=to({callback:(0,Y.useCallback)(e=>{for(let{target:r}of e)if(ei(r)){i(e=>{let i=t(r);return e?{...e,width:i.width,height:i.height}:i});break}},[t])}),[s,a]=ec((0,Y.useCallback)(e=>{let r=tf(e);null==n||n.disconnect(),r&&(null==n||n.observe(r)),i(r?t(r):null)},[t,n]));return(0,Y.useMemo)(()=>({nodeRef:s,rect:r,setRef:a}),[r,s,a])}({measure:es.dragOverlay.measure}),eR=null!=(r=eT.nodeRef.current)?r:eg,eP=M?null!=(i=eT.rect)?i:ex:null,ej=!!(eT.nodeRef.current&&eT.rect),eC=(f=ta(s=ej?null:ex),eL(s,f)),eI=td(eR?et(eR):null),eN=(a=M?null!=eE?eE:eg:null,m=(0,Y.useRef)(a),g=eu(e=>a?e&&e!==tc&&a&&m.current&&a.parentNode===m.current.parentNode?e:ez(a):tc,[a]),(0,Y.useEffect)(()=>{m.current=a},[a]),g),eU=function(e,t){void 0===t&&(t=eV);let[r]=e,i=td(r?et(r):null),[n,s]=(0,Y.useState)(tp);function a(){s(()=>e.length?e.map(e=>eJ(e)?i:new e1(t(e),e)):tp)}let o=to({callback:a});return ea(()=>{null==o||o.disconnect(),a(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),n}(eN),eB=tT(_,{transform:{x:V.x-eC.x,y:V.y-eC.y,scaleX:1,scaleY:1},activatorEvent:J,active:W,activeNodeRect:ex,containerNodeRect:ek,draggingNodeRect:eP,over:eS.current.over,overlayNodeRect:eT.rect,scrollableAncestors:eN,scrollableAncestorRects:eU,windowRect:eI}),eF=ey?em(ey,V):null,eK=function(e){let[t,r]=(0,Y.useState)(null),i=(0,Y.useRef)(e),n=(0,Y.useCallback)(e=>{let t=eW(e.target);t&&r(e=>e?(e.set(t,eG(t)),new Map(e)):null)},[]);return(0,Y.useEffect)(()=>{let t=i.current;if(e!==t){s(t);let a=e.map(e=>{let t=eW(e);return t?(t.addEventListener("scroll",n,{passive:!0}),[t,eG(t)]):null}).filter(e=>null!=e);r(a.length?new Map(a):null),i.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{let t=eW(e);null==t||t.removeEventListener("scroll",n)})}},[n,e]),(0,Y.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>em(e,t),eO):eZ(e):eO,[e,t])}(eN),eH=th(eK),eQ=th(eK,[ex]),e0=em(eB,eH),e2=eP?eM(eP,eB):null,e5=W&&e2?k({active:W,collisionRect:e2,droppableRects:eo,droppableContainers:en,pointerCoordinates:eF}):null,e3=eD(e5,"id"),[e4,e8]=(0,Y.useState)(null),e6=(o=ej?eB:em(eB,eQ),l=null!=(n=null==e4?void 0:e4.rect)?n:null,{...o,scaleX:l&&ex?l.width/ex.width:1,scaleY:l&&ex?l.height/ex.height:1}),e9=(0,Y.useRef)(null),e7=(0,Y.useCallback)((e,t)=>{let{sensor:r,options:i}=t;if(null==K.current)return;let n=B.get(K.current);if(!n)return;let s=e.nativeEvent,a=new r({active:K.current,activeNode:n,event:s,options:i,context:eS,onAbort(e){if(!B.get(e))return;let{onDragAbort:t}=ee.current,r={id:e};null==t||t(r),O({type:"onDragAbort",event:r})},onPending(e,t,r,i){if(!B.get(e))return;let{onDragPending:n}=ee.current,s={id:e,constraint:t,initialCoordinates:r,offset:i};null==n||n(s),O({type:"onDragPending",event:s})},onStart(e){let t=K.current;if(null==t)return;let r=B.get(t);if(!r)return;let{onDragStart:i}=ee.current,n={activatorEvent:s,active:{id:t,data:r.data,rect:q}};(0,X.unstable_batchedUpdates)(()=>{null==i||i(n),$(L.Initializing),A({type:R.DragStart,initialCoordinates:e,active:t}),O({type:"onDragStart",event:n}),G(e9.current),Q(s)})},onMove(e){A({type:R.DragMove,coordinates:e})},onEnd:o(R.DragEnd),onCancel:o(R.DragCancel)});function o(e){return async function(){let{active:t,collisions:r,over:i,scrollAdjustedTranslate:n}=eS.current,a=null;if(t&&n){let{cancelDrop:o}=ee.current;a={activatorEvent:s,active:t,collisions:r,delta:n,over:i},e===R.DragEnd&&"function"==typeof o&&await Promise.resolve(o(a))&&(e=R.DragCancel)}K.current=null,(0,X.unstable_batchedUpdates)(()=>{A({type:e}),$(L.Uninitialized),e8(null),G(null),Q(null),e9.current=null;let t=e===R.DragEnd?"onDragEnd":"onDragCancel";if(a){let e=ee.current[t];null==e||e(a),O({type:t,event:a})}})}}e9.current=a},[B]),te=(0,Y.useCallback)((e,t)=>(r,i)=>{let n=r.nativeEvent,s=B.get(i);null!==K.current||!s||n.dndKit||n.defaultPrevented||!0===e(r,t.options,{active:s})&&(n.dndKit={capturedBy:t.sensor},K.current=i,e7(r,t))},[B,e7]),tt=(0,Y.useMemo)(()=>x.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:te(e.handler,t)}))]},[]),[x,te]);(0,Y.useEffect)(()=>{if(!Z)return;let e=x.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},x.map(e=>{let{sensor:t}=e;return t})),ea(()=>{ex&&C===L.Initializing&&$(L.Initialized)},[ex,C]),(0,Y.useEffect)(()=>{let{onDragMove:e}=ee.current,{active:t,activatorEvent:r,collisions:i,over:n}=eS.current;if(!t||!r)return;let s={active:t,activatorEvent:r,collisions:i,delta:{x:e0.x,y:e0.y},over:n};(0,X.unstable_batchedUpdates)(()=>{null==e||e(s),O({type:"onDragMove",event:s})})},[e0.x,e0.y]),(0,Y.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:i,scrollAdjustedTranslate:n}=eS.current;if(!e||null==K.current||!t||!n)return;let{onDragOver:s}=ee.current,a=i.get(e3),o=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:r,delta:{x:n.x,y:n.y},over:o};(0,X.unstable_batchedUpdates)(()=>{e8(o),null==s||s(l),O({type:"onDragOver",event:l})})},[e3]),ea(()=>{eS.current={activatorEvent:J,active:W,activeNode:eg,collisionRect:e2,collisions:e5,droppableRects:eo,draggableNodes:B,draggingNode:eR,draggingNodeRect:eP,droppableContainers:F,over:e4,scrollableAncestors:eN,scrollAdjustedTranslate:e0},q.current={initial:eP,translated:e2}},[W,eg,e5,e2,B,eR,eP,eo,F,e4,eN,e0]),function(e){let t,{acceleration:r,activator:i=I.Pointer,canScroll:n,draggingRect:s,enabled:a,interval:o=5,order:l=D.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:h,delta:d,threshold:p}=e,f=function(e){let{delta:t,disabled:r}=e,i=eh(t);return eu(e=>{if(r||!i||!e)return tn;let n={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[P.Backward]:e.x[P.Backward]||-1===n.x,[P.Forward]:e.x[P.Forward]||1===n.x},y:{[P.Backward]:e.y[P.Backward]||-1===n.y,[P.Forward]:e.y[P.Forward]||1===n.y}}},[r,t,i])}({delta:d,disabled:!a}),[m,g]=(t=(0,Y.useRef)(null),[(0,Y.useCallback)((e,r)=>{t.current=setInterval(e,r)},[]),(0,Y.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),y=(0,Y.useRef)({x:0,y:0}),v=(0,Y.useRef)({x:0,y:0}),b=(0,Y.useMemo)(()=>{switch(i){case I.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case I.DraggableRect:return s}},[i,s,u]),w=(0,Y.useRef)(null),x=(0,Y.useCallback)(()=>{let e=w.current;if(!e)return;let t=y.current.x*v.current.x,r=y.current.y*v.current.y;e.scrollBy(t,r)},[]),k=(0,Y.useMemo)(()=>l===D.TreeOrder?[...c].reverse():c,[l,c]);(0,Y.useEffect)(()=>{if(!a||!c.length||!b)return void g();for(let e of k){if((null==n?void 0:n(e))===!1)continue;let t=h[c.indexOf(e)];if(!t)continue;let{direction:i,speed:s}=function(e,t,r,i,n){let{top:s,left:a,right:o,bottom:l}=r;void 0===i&&(i=10),void 0===n&&(n=eX);let{isTop:u,isBottom:c,isLeft:h,isRight:d}=eY(e),p={x:0,y:0},f={x:0,y:0},m={height:t.height*n.y,width:t.width*n.x};return!u&&s<=t.top+m.height?(p.y=P.Backward,f.y=i*Math.abs((t.top+m.height-s)/m.height)):!c&&l>=t.bottom-m.height&&(p.y=P.Forward,f.y=i*Math.abs((t.bottom-m.height-l)/m.height)),!d&&o>=t.right-m.width?(p.x=P.Forward,f.x=i*Math.abs((t.right-m.width-o)/m.width)):!h&&a<=t.left+m.width&&(p.x=P.Backward,f.x=i*Math.abs((t.left+m.width-a)/m.width)),{direction:p,speed:f}}(e,t,b,r,p);for(let e of["x","y"])f[e][i[e]]||(s[e]=0,i[e]=0);if(s.x>0||s.y>0){g(),w.current=e,m(x,o),y.current=s,v.current=i;return}}y.current={x:0,y:0},v.current={x:0,y:0},g()},[r,x,n,g,a,o,JSON.stringify(b),JSON.stringify(f),m,c,k,h,JSON.stringify(p)])}({...eb,delta:V,draggingRect:e2,pointerCoordinates:eF,scrollableAncestors:eN,scrollableAncestorRects:eU});let tr=(0,Y.useMemo)(()=>({active:W,activeNode:eg,activeNodeRect:ex,activatorEvent:J,collisions:e5,containerNodeRect:ek,dragOverlay:eT,draggableNodes:B,droppableContainers:F,droppableRects:eo,over:e4,measureDroppableContainers:ed,scrollableAncestors:eN,scrollableAncestorRects:eU,measuringConfiguration:es,measuringScheduled:ef,windowRect:eI}),[W,eg,ex,J,e5,ek,eT,B,F,eo,e4,ed,eN,eU,es,ef,eI]),ti=(0,Y.useMemo)(()=>({activatorEvent:J,activators:tt,active:W,activeNodeRect:ex,ariaDescribedById:{draggable:er},dispatch:A,draggableNodes:B,over:e4,measureDroppableContainers:ed}),[J,tt,W,ex,A,er,B,e4,ed]);return Y.default.createElement(e_.Provider,{value:j},Y.default.createElement(tx.Provider,{value:ti},Y.default.createElement(tk.Provider,{value:tr},Y.default.createElement(tA.Provider,{value:e6},w)),Y.default.createElement(tE,{disabled:(null==v?void 0:v.restoreFocus)===!1})),Y.default.createElement(eA,{...v,hiddenTextDescribedById:er}))}),tP=(0,Y.createContext)(null),tO="button";function tj(){return(0,Y.useContext)(tk)}let tC={timeout:25};function tI(e){let{animation:t,children:r}=e,[i,n]=(0,Y.useState)(null),[s,a]=(0,Y.useState)(null),o=eh(r);return r||i||!o||n(o),ea(()=>{if(!s)return;let e=null==i?void 0:i.key,r=null==i?void 0:i.props.id;null==e||null==r?n(null):Promise.resolve(t(r,s)).then(()=>{n(null)})},[t,i,s]),Y.default.createElement(Y.default.Fragment,null,r,i?(0,Y.cloneElement)(i,{ref:a}):null)}let tD={x:0,y:0,scaleX:1,scaleY:1};function tN(e){let{children:t}=e;return Y.default.createElement(tx.Provider,{value:tw},Y.default.createElement(tA.Provider,{value:tD},t))}let t$={position:"fixed",touchAction:"none"},tL=e=>ey(e)?"transform 250ms ease":void 0,tM=(0,Y.forwardRef)((e,t)=>{let{as:r,activatorEvent:i,adjustScale:n,children:s,className:a,rect:o,style:l,transform:u,transition:c=tL}=e;if(!o)return null;let h=n?u:{...u,scaleX:1,scaleY:1},d={...t$,width:o.width,height:o.height,top:o.top,left:o.left,transform:eb.Transform.toString(h),transformOrigin:n&&i?function(e,t){let r=ev(e);if(!r)return"0 0";let i={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return i.x+"% "+i.y+"%"}(i,o):void 0,transition:"function"==typeof c?c(i):c,...l};return Y.default.createElement(r,{className:a,style:d,ref:t},s)}),tU=e=>t=>{let{active:r,dragOverlay:i}=t,n={},{styles:s,className:a}=e;if(null!=s&&s.active)for(let[e,t]of Object.entries(s.active))void 0!==t&&(n[e]=r.node.style.getPropertyValue(e),r.node.style.setProperty(e,t));if(null!=s&&s.dragOverlay)for(let[e,t]of Object.entries(s.dragOverlay))void 0!==t&&i.node.style.setProperty(e,t);return null!=a&&a.active&&r.node.classList.add(a.active),null!=a&&a.dragOverlay&&i.node.classList.add(a.dragOverlay),function(){for(let[e,t]of Object.entries(n))r.node.style.setProperty(e,t);null!=a&&a.active&&r.node.classList.remove(a.active)}},tB={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:r}}=e;return[{transform:eb.Transform.toString(t)},{transform:eb.Transform.toString(r)}]},sideEffects:tU({styles:{active:{opacity:"0"}}})},tV=0,tF=Y.default.memo(e=>{var t;let{adjustScale:r=!1,children:i,dropAnimation:n,style:s,transition:a,modifiers:o,wrapperElement:l="div",className:u,zIndex:c=999}=e,{activatorEvent:h,active:d,activeNodeRect:p,containerNodeRect:f,draggableNodes:m,droppableContainers:g,dragOverlay:y,over:v,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:x,windowRect:k}=tj(),S=(0,Y.useContext)(tA),_=(t=null==d?void 0:d.id,(0,Y.useMemo)(()=>{if(null!=t)return++tV},[t])),E=tT(o,{activatorEvent:h,active:d,activeNodeRect:p,containerNodeRect:f,draggingNodeRect:y.rect,over:v,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:x,transform:S,windowRect:k}),T=ta(p),A=function(e){let{config:t,draggableNodes:r,droppableContainers:i,measuringConfiguration:n}=e;return eo((e,s)=>{if(null===t)return;let a=r.get(e);if(!a)return;let o=a.node.current;if(!o)return;let l=tf(s);if(!l)return;let{transform:u}=et(s).getComputedStyle(s),c=eU(u);if(!c)return;let h="function"==typeof t?t:function(e){let{duration:t,easing:r,sideEffects:i,keyframes:n}={...tB,...e};return e=>{let{active:s,dragOverlay:a,transform:o,...l}=e;if(!t)return;let u={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},c={scaleX:1!==o.scaleX?s.rect.width*o.scaleX/a.rect.width:1,scaleY:1!==o.scaleY?s.rect.height*o.scaleY/a.rect.height:1},h={x:o.x-u.x,y:o.y-u.y,...c},d=n({...l,active:s,dragOverlay:a,transform:{initial:o,final:h}}),[p]=d,f=d[d.length-1];if(JSON.stringify(p)===JSON.stringify(f))return;let m=null==i?void 0:i({active:s,dragOverlay:a,...l}),g=a.node.animate(d,{duration:t,easing:r,fill:"forwards"});return new Promise(e=>{g.onfinish=()=>{null==m||m(),e()}})}}(t);return eQ(o,n.draggable.measure),h({active:{id:e,data:a.data,node:o,rect:n.draggable.measure(o)},draggableNodes:r,dragOverlay:{node:s,rect:n.dragOverlay.measure(l)},droppableContainers:i,measuringConfiguration:n,transform:c})})}({config:n,draggableNodes:m,droppableContainers:g,measuringConfiguration:b}),R=T?y.setRef:void 0;return Y.default.createElement(tN,null,Y.default.createElement(tI,{animation:A},d&&_?Y.default.createElement(tM,{key:_,id:d.id,ref:R,as:l,activatorEvent:h,adjustScale:r,className:u,transition:a,rect:T,style:{zIndex:c,...s},transform:E},i):null))});function tz(e,t,r){let i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(t,1)[0]),i}function tq(e){return null!==e&&e>=0}let tW=e=>{let{rects:t,activeIndex:r,overIndex:i,index:n}=e,s=tz(t,i,r),a=t[n],o=s[n];return o&&a?{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}:null},tK={scaleX:1,scaleY:1},tH=e=>{var t,r,i,n;let s,a,o,{activeIndex:l,activeNodeRect:u,index:c,rects:h,overIndex:d}=e,p=null!=(t=h[l])?t:u;if(!p)return null;if(c===l){let e=h[d];return e?{x:0,y:l<d?e.top+e.height-(p.top+p.height):e.top-p.top,...tK}:null}let f=(r=h,i=c,n=l,s=r[i],a=r[i-1],o=r[i+1],s?n<i?a?s.top-(a.top+a.height):o?o.top-(s.top+s.height):0:o?o.top-(s.top+s.height):a?s.top-(a.top+a.height):0:0);return c>l&&c<=d?{x:0,y:-p.height-f,...tK}:c<l&&c>=d?{x:0,y:p.height+f,...tK}:{x:0,y:0,...tK}},tG="Sortable",tJ=Y.default.createContext({activeIndex:-1,containerId:tG,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tW,disabled:{draggable:!1,droppable:!1}});function tY(e){let{children:t,id:r,items:i,strategy:n=tW,disabled:s=!1}=e,{active:a,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:c}=tj(),h=ep(tG,r),d=null!==o.rect,p=(0,Y.useMemo)(()=>i.map(e=>"object"==typeof e&&"id"in e?e.id:e),[i]),f=null!=a,m=a?p.indexOf(a.id):-1,g=u?p.indexOf(u.id):-1,y=(0,Y.useRef)(p),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(p,y.current),b=-1!==g&&-1===m||v,w="boolean"==typeof s?{draggable:s,droppable:s}:s;ea(()=>{v&&f&&c(p)},[v,p,f,c]),(0,Y.useEffect)(()=>{y.current=p},[p]);let x=(0,Y.useMemo)(()=>({activeIndex:m,containerId:h,disabled:w,disableTransforms:b,items:p,overIndex:g,useDragOverlay:d,sortedRects:p.reduce((e,t,r)=>{let i=l.get(t);return i&&(e[r]=i),e},Array(p.length)),strategy:n}),[m,h,w.draggable,w.droppable,b,p,g,l,d,n]);return Y.default.createElement(tJ.Provider,{value:x},t)}let tX=e=>{let{id:t,items:r,activeIndex:i,overIndex:n}=e;return tz(r,i,n).indexOf(t)},tZ=e=>{let{containerId:t,isSorting:r,wasDragging:i,index:n,items:s,newIndex:a,previousItems:o,previousContainerId:l,transition:u}=e;return!!u&&!!i&&(o===s||n!==a)&&(!!r||a!==n&&t===l)},tQ={duration:200,easing:"ease"},t0="transform",t1=eb.Transition.toString({property:t0,duration:0,easing:"linear"}),t2={roleDescription:"sortable"};function t5(e){var t,r,i,n;let{animateLayoutChanges:s=tZ,attributes:a,disabled:o,data:l,getNewIndex:u=tX,id:c,strategy:h,resizeObserverConfig:d,transition:p=tQ}=e,{items:f,containerId:m,activeIndex:g,disabled:y,disableTransforms:v,sortedRects:b,overIndex:w,useDragOverlay:x,strategy:k}=(0,Y.useContext)(tJ),S=(t=o,r=y,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(i=null==t?void 0:t.draggable)?i:r.draggable,droppable:null!=(n=null==t?void 0:t.droppable)?n:r.droppable}),_=f.indexOf(c),E=(0,Y.useMemo)(()=>({sortable:{containerId:m,index:_,items:f},...l}),[m,l,_,f]),T=(0,Y.useMemo)(()=>f.slice(f.indexOf(c)),[f,c]),{rect:A,node:P,isOver:O,setNodeRef:j}=function(e){let{data:t,disabled:r=!1,id:i,resizeObserverConfig:n}=e,s=ep("Droppable"),{active:a,dispatch:o,over:l,measureDroppableContainers:u}=(0,Y.useContext)(tx),c=(0,Y.useRef)({disabled:r}),h=(0,Y.useRef)(!1),d=(0,Y.useRef)(null),p=(0,Y.useRef)(null),{disabled:f,updateMeasurementsFor:m,timeout:g}={...tC,...n},y=el(null!=m?m:i),v=to({callback:(0,Y.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),p.current=null},g)},[g]),disabled:f||!a}),[b,w]=ec((0,Y.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),h.current=!1),e&&v.observe(e))},[v])),x=el(t);return(0,Y.useEffect)(()=>{v&&b.current&&(v.disconnect(),h.current=!1,v.observe(b.current))},[b,v]),(0,Y.useEffect)(()=>(o({type:R.RegisterDroppable,element:{id:i,key:s,disabled:r,node:b,rect:d,data:x}}),()=>o({type:R.UnregisterDroppable,key:s,id:i})),[i]),(0,Y.useEffect)(()=>{r!==c.current.disabled&&(o({type:R.SetDroppableDisabled,id:i,key:s,disabled:r}),c.current.disabled=r)},[i,s,r,o]),{active:a,rect:d,isOver:(null==l?void 0:l.id)===i,node:b,over:l,setNodeRef:w}}({id:c,data:E,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...d}}),{active:C,activatorEvent:I,activeNodeRect:D,attributes:N,setNodeRef:$,listeners:L,isDragging:M,over:U,setActivatorNodeRef:B,transform:V}=function(e){let{id:t,data:r,disabled:i=!1,attributes:n}=e,s=ep("Draggable"),{activators:a,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:h,over:d}=(0,Y.useContext)(tx),{role:p=tO,roleDescription:f="draggable",tabIndex:m=0}=null!=n?n:{},g=(null==l?void 0:l.id)===t,y=(0,Y.useContext)(g?tA:tP),[v,b]=ec(),[w,x]=ec(),k=(0,Y.useMemo)(()=>a.reduce((e,r)=>{let{eventName:i,handler:n}=r;return e[i]=e=>{n(e,t)},e},{}),[a,t]),S=el(r);return ea(()=>(h.set(t,{id:t,key:s,node:v,activatorNode:w,data:S}),()=>{let e=h.get(t);e&&e.key===s&&h.delete(t)}),[h,t]),{active:l,activatorEvent:o,activeNodeRect:u,attributes:(0,Y.useMemo)(()=>({role:p,tabIndex:m,"aria-disabled":i,"aria-pressed":!!g&&p===tO||void 0,"aria-roledescription":f,"aria-describedby":c.draggable}),[i,p,m,g,f,c.draggable]),isDragging:g,listeners:i?void 0:k,node:v,over:d,setNodeRef:b,setActivatorNodeRef:x,transform:y}}({id:c,data:E,attributes:{...t2,...a},disabled:S.draggable}),F=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,Y.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(j,$),z=!!C,q=z&&!v&&tq(g)&&tq(w),W=!x&&M,K=W&&q?V:null,H=q?null!=K?K:(null!=h?h:k)({rects:b,activeNodeRect:D,activeIndex:g,overIndex:w,index:_}):null,G=tq(g)&&tq(w)?u({id:c,items:f,activeIndex:g,overIndex:w}):_,J=null==C?void 0:C.id,X=(0,Y.useRef)({activeId:J,items:f,newIndex:G,containerId:m}),Z=f!==X.current.items,Q=s({active:C,containerId:m,isDragging:M,isSorting:z,id:c,index:_,items:f,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:p,wasDragging:null!=X.current.activeId}),ee=function(e){let{disabled:t,index:r,node:i,rect:n}=e,[s,a]=(0,Y.useState)(null),o=(0,Y.useRef)(r);return ea(()=>{if(!t&&r!==o.current&&i.current){let e=n.current;if(e){let t=eV(i.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&a(r)}}r!==o.current&&(o.current=r)},[t,r,i,n]),(0,Y.useEffect)(()=>{s&&a(null)},[s]),s}({disabled:!Q,index:_,node:P,rect:A});return(0,Y.useEffect)(()=>{z&&X.current.newIndex!==G&&(X.current.newIndex=G),m!==X.current.containerId&&(X.current.containerId=m),f!==X.current.items&&(X.current.items=f)},[z,G,m,f]),(0,Y.useEffect)(()=>{if(J===X.current.activeId)return;if(null!=J&&null==X.current.activeId){X.current.activeId=J;return}let e=setTimeout(()=>{X.current.activeId=J},50);return()=>clearTimeout(e)},[J]),{active:C,activeIndex:g,attributes:N,data:E,rect:A,index:_,newIndex:G,items:f,isOver:O,isSorting:z,isDragging:M,listeners:L,node:P,overIndex:w,over:U,setNodeRef:F,setActivatorNodeRef:B,setDroppableNodeRef:j,setDraggableNodeRef:$,transform:null!=ee?ee:H,transition:ee||Z&&X.current.newIndex===_?t1:(!W||ey(I))&&p&&(z||Q)?eb.Transition.toString({...p,property:t0}):void 0}}function t3(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let t4=[j.Down,j.Right,j.Up,j.Left],t8=(e,t)=>{let{context:{active:r,collisionRect:i,droppableRects:n,droppableContainers:s,over:a,scrollableAncestors:o}}=t;if(t4.includes(e.code)){if(e.preventDefault(),!r||!i)return;let t=[];s.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let s=n.get(r.id);if(s)switch(e.code){case j.Down:i.top<s.top&&t.push(r);break;case j.Up:i.top>s.top&&t.push(r);break;case j.Left:i.left>s.left&&t.push(r);break;case j.Right:i.left<s.left&&t.push(r)}});let c=eN({active:r,collisionRect:i,droppableRects:n,droppableContainers:t,pointerCoordinates:null}),h=eD(c,"id");if(h===(null==a?void 0:a.id)&&c.length>1&&(h=c[1].id),null!=h){let e=s.get(r.id),t=s.get(h),a=t?n.get(t.id):null,c=null==t?void 0:t.node.current;if(c&&a&&e&&t){var l,u;let r=ez(c).some((e,t)=>o[t]!==e),n=t6(e,t),s=(l=e,u=t,!!t3(l)&&!!t3(u)&&!!t6(l,u)&&l.data.current.sortable.index<u.data.current.sortable.index),h=r||!n?{x:0,y:0}:{x:s?i.width-a.width:0,y:s?i.height-a.height:0},d={x:a.left,y:a.top};return h.x&&h.y?d:eg(d,h)}}}};function t6(e,t){return!!t3(e)&&!!t3(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}let t9=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],t7=new Set(t9),re=(e,t,r)=>r>t?t:r<e?e:r,rt={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},rr={...rt,transform:e=>re(0,1,e)},ri={...rt,default:1},rn=e=>Math.round(1e5*e)/1e5,rs=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,ra=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ro=(e,t)=>r=>!!("string"==typeof r&&ra.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),rl=(e,t,r)=>i=>{if("string"!=typeof i)return i;let[n,s,a,o]=i.match(rs);return{[e]:parseFloat(n),[t]:parseFloat(s),[r]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},ru={...rt,transform:e=>Math.round(re(0,255,e))},rc={test:ro("rgb","red"),parse:rl("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+ru.transform(e)+", "+ru.transform(t)+", "+ru.transform(r)+", "+rn(rr.transform(i))+")"},rh={test:ro("#"),parse:function(e){let t="",r="",i="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,i+=i,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}},transform:rc.transform},rd=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),rp=rd("deg"),rf=rd("%"),rm=rd("px"),rg=rd("vh"),ry=rd("vw"),rv={...rf,parse:e=>rf.parse(e)/100,transform:e=>rf.transform(100*e)},rb={test:ro("hsl","hue"),parse:rl("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+rf.transform(rn(t))+", "+rf.transform(rn(r))+", "+rn(rr.transform(i))+")"},rw={test:e=>rc.test(e)||rh.test(e)||rb.test(e),parse:e=>rc.test(e)?rc.parse(e):rb.test(e)?rb.parse(e):rh.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?rc.transform(e):rb.transform(e),getAnimatableNone:e=>{let t=rw.parse(e);return t.alpha=0,rw.transform(t)}},rx=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,rk="number",rS="color",r_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rE(e){let t=e.toString(),r=[],i={color:[],number:[],var:[]},n=[],s=0,a=t.replace(r_,e=>(rw.test(e)?(i.color.push(s),n.push(rS),r.push(rw.parse(e))):e.startsWith("var(")?(i.var.push(s),n.push("var"),r.push(e)):(i.number.push(s),n.push(rk),r.push(parseFloat(e))),++s,"${}")).split("${}");return{values:r,split:a,indexes:i,types:n}}function rT(e){return rE(e).values}function rA(e){let{split:t,types:r}=rE(e),i=t.length;return e=>{let n="";for(let s=0;s<i;s++)if(n+=t[s],void 0!==e[s]){let t=r[s];t===rk?n+=rn(e[s]):t===rS?n+=rw.transform(e[s]):n+=e[s]}return n}}let rR=e=>"number"==typeof e?0:rw.test(e)?rw.getAnimatableNone(e):e,rP={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(rs)?.length||0)+(e.match(rx)?.length||0)>0},parse:rT,createTransformer:rA,getAnimatableNone:function(e){let t=rT(e);return rA(e)(t.map(rR))}},rO=new Set(["brightness","contrast","saturate","opacity"]);function rj(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=r.match(rs)||[];if(!i)return e;let n=r.replace(i,""),s=+!!rO.has(t);return i!==r&&(s*=100),t+"("+s+n+")"}let rC=/\b([a-z-]*)\(.*?\)/gu,rI={...rP,getAnimatableNone:e=>{let t=e.match(rC);return t?t.map(rj).join(" "):e}},rD={...rt,transform:Math.round},rN={borderWidth:rm,borderTopWidth:rm,borderRightWidth:rm,borderBottomWidth:rm,borderLeftWidth:rm,borderRadius:rm,borderTopLeftRadius:rm,borderTopRightRadius:rm,borderBottomRightRadius:rm,borderBottomLeftRadius:rm,width:rm,maxWidth:rm,height:rm,maxHeight:rm,top:rm,right:rm,bottom:rm,left:rm,inset:rm,insetBlock:rm,insetBlockStart:rm,insetBlockEnd:rm,insetInline:rm,insetInlineStart:rm,insetInlineEnd:rm,padding:rm,paddingTop:rm,paddingRight:rm,paddingBottom:rm,paddingLeft:rm,paddingBlock:rm,paddingBlockStart:rm,paddingBlockEnd:rm,paddingInline:rm,paddingInlineStart:rm,paddingInlineEnd:rm,margin:rm,marginTop:rm,marginRight:rm,marginBottom:rm,marginLeft:rm,marginBlock:rm,marginBlockStart:rm,marginBlockEnd:rm,marginInline:rm,marginInlineStart:rm,marginInlineEnd:rm,fontSize:rm,backgroundPositionX:rm,backgroundPositionY:rm,rotate:rp,rotateX:rp,rotateY:rp,rotateZ:rp,scale:ri,scaleX:ri,scaleY:ri,scaleZ:ri,skew:rp,skewX:rp,skewY:rp,distance:rm,translateX:rm,translateY:rm,translateZ:rm,x:rm,y:rm,z:rm,perspective:rm,transformPerspective:rm,opacity:rr,originX:rv,originY:rv,originZ:rm,zIndex:rD,fillOpacity:rr,strokeOpacity:rr,numOctaves:rD},r$={...rN,color:rw,backgroundColor:rw,outlineColor:rw,fill:rw,stroke:rw,borderColor:rw,borderTopColor:rw,borderRightColor:rw,borderBottomColor:rw,borderLeftColor:rw,filter:rI,WebkitFilter:rI},rL=e=>r$[e],rM=()=>({translate:0,scale:1,origin:0,originPoint:0}),rU=()=>({x:rM(),y:rM()}),rB=()=>({min:0,max:0}),rV=()=>({x:rB(),y:rB()}),rF=e=>!!(e&&e.getVelocity),rz=new Set(["width","height","top","left","right","bottom",...t9]),rq=e=>t=>t.test(e),rW=[rt,rm,rf,rp,ry,rg,{test:e=>"auto"===e,parse:e=>e}],rK=e=>rW.find(rq(e));var rH=e.i(15563);let rG=()=>{},rJ=()=>{};rH.default;let rY=e=>t=>"string"==typeof t&&t.startsWith(e),rX=rY("--"),rZ=rY("var(--"),rQ=e=>!!rZ(e)&&r0.test(e.split("/*")[0].trim()),r0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function r1(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}let r2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,r5=e=>180*e/Math.PI,r3=e=>r8(r5(Math.atan2(e[1],e[0]))),r4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:r3,rotateZ:r3,skewX:e=>r5(Math.atan(e[1])),skewY:e=>r5(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},r8=e=>((e%=360)<0&&(e+=360),e),r6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),r9=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),r7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:r6,scaleY:r9,scale:e=>(r6(e)+r9(e))/2,rotateX:e=>r8(r5(Math.atan2(e[6],e[5]))),rotateY:e=>r8(r5(Math.atan2(-e[2],e[0]))),rotateZ:r3,rotate:r3,skewX:e=>r5(Math.atan(e[4])),skewY:e=>r5(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ie(e){return+!!e.includes("scale")}function it(e,t){let r,i;if(!e||"none"===e)return ie(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(n)r=r7,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=r4,i=t}if(!i)return ie(t);let s=r[t],a=i[1].split(",").map(ir);return"function"==typeof s?s(a):a[s]}function ir(e){return parseFloat(e.trim())}let ii=e=>e===rt||e===rm,is=new Set(["x","y","z"]),ia=t9.filter(e=>!is.has(e)),io={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>it(t,"x"),y:(e,{transform:t})=>it(t,"y")};io.translateX=io.x,io.translateY=io.y;let il=e=>e,iu={},ic=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ih(e,t){let r=!1,i=!0,n={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=ic.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,i=new Set,n=!1,s=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){a.has(t)&&(c.schedule(t),e()),l++,t(o)}let c={schedule:(e,t=!1,s=!1)=>{let o=s&&n?r:i;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{i.delete(e),a.delete(e)},process:e=>{if(o=e,n){s=!0;return}n=!0,[r,i]=[i,r],r.forEach(u),t,l=0,r.clear(),n=!1,s&&(s=!1,c.process(e))}};return c}(s,t?r:void 0),e),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:p,postRender:f}=a,m=()=>{let s=iu.useManualTiming?n.timestamp:performance.now();r=!1,iu.useManualTiming||(n.delta=i?1e3/60:Math.max(Math.min(s-n.timestamp,40),1)),n.timestamp=s,n.isProcessing=!0,o.process(n),l.process(n),u.process(n),c.process(n),h.process(n),d.process(n),p.process(n),f.process(n),n.isProcessing=!1,r&&t&&(i=!1,e(m))};return{schedule:ic.reduce((t,s)=>{let o=a[s];return t[s]=(t,s=!1,a=!1)=>(!r&&(r=!0,i=!0,n.isProcessing||e(m)),o.schedule(t,s,a)),t},{}),cancel:e=>{for(let t=0;t<ic.length;t++)a[ic[t]].cancel(e)},state:n,steps:a}}let{schedule:id,cancel:ip,state:im,steps:ig}=ih("u">typeof requestAnimationFrame?requestAnimationFrame:il,!0),iy=new Set,iv=!1,ib=!1,iw=!1;function ix(){if(ib){let e=Array.from(iy).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t,i=(t=[],ia.forEach(r=>{let i=e.getValue(r);void 0!==i&&(t.push([r,i.get()]),i.set(+!!r.startsWith("scale")))}),t);i.length&&(r.set(e,i),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ib=!1,iv=!1,iy.forEach(e=>e.complete(iw)),iy.clear()}function ik(){iy.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ib=!0)})}class iS{constructor(e,t,r,i,n,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=n,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(iy.add(this),iv||(iv=!0,id.read(ik),id.resolveKeyframes(ix))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(null===e[0]){let n=i?.get(),s=e[e.length-1];if(void 0!==n)e[0]=n;else if(r&&t){let i=r.readValue(t,s);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=s),i&&void 0===n&&i.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),iy.delete(this)}cancel(){"scheduled"===this.state&&(iy.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function i_(e,t){let r=rL(e);return r!==rI&&(r=rP),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let iE=new Set(["auto","none","0"]);class iT extends iS{constructor(e,t,r,i,n){super(e,t,r,i,n,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let i=e[r];if("string"==typeof i&&rQ(i=i.trim())){let n=function e(t,r,i=1){rJ(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[n,s]=function(e){let t=r2.exec(e);if(!t)return[,];let[,r,i,n]=t;return[`--${r??i}`,n]}(t);if(!n)return;let a=window.getComputedStyle(r).getPropertyValue(n);if(a){let e=a.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return rQ(s)?e(s,r,i+1):s}(i,t.current);void 0!==n&&(e[r]=n),r===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!rz.has(r)||2!==e.length)return;let[i,n]=e,s=rK(i),a=rK(n);if(r1(i)!==r1(n)&&io[r]){this.needsMeasurement=!0;return}if(s!==a)if(ii(s)&&ii(a))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else io[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&r.push(t);r.length&&function(e,t,r){let i,n=0;for(;n<e.length&&!i;){let t=e[n];"string"==typeof t&&!iE.has(t)&&rE(t).values.length&&(i=e[n]),n++}if(i&&r)for(let n of t)e[n]=i_(r,i)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=io[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(r,i).jump(i,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);let n=r.length-1,s=r[n];r[n]=io[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}let iA=e=>1e3*e;function iR(e,t){-1===e.indexOf(t)&&e.push(t)}function iP(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class iO{constructor(){this.subscriptions=[]}add(e){return iR(this.subscriptions,e),()=>iP(this.subscriptions,e)}notify(e,t,r){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,r);else for(let n=0;n<i;n++){let i=this.subscriptions[n];i&&i(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ij(e){let t;return()=>(void 0===t&&(t=e()),t)}let iC=ij(()=>void 0!==window.ScrollTimeline),iI=e=>null!==e;function iD(e,{repeat:t,repeatType:r="loop"},i,n=1){let s=e.filter(iI),a=n<0||t&&"loop"!==r&&t%2==1?0:s.length-1;return a&&void 0!==i?i:s[a]}class iN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let i$={layout:0,mainThread:0,waapi:0},iL=e=>Array.isArray(e)&&"number"==typeof e[0],iM={},iU=(s=ij(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>iM.linearEasing??s()),iB=(e,t,r=10)=>{let i="",n=Math.max(Math.round(t/r),2);for(let t=0;t<n;t++)i+=Math.round(1e4*e(t/(n-1)))/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},iV=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,iF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iV([0,.65,.55,1]),circOut:iV([.55,0,1,.45]),backIn:iV([.31,.01,.66,-.59]),backOut:iV([.33,1.53,.69,.99])};function iz(e){return"function"==typeof e&&"applyToOptions"in e}class iq extends iN{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:n,allowFlatten:s=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!n,this.allowFlatten=s,this.options=e,rJ("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return iz(e)&&iU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,r,{delay:i=0,duration:n=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u){let c={[t]:r};l&&(c.offset=l);let h=function e(t,r){if(t)return"function"==typeof t?iU()?iB(t,r):"ease-out":iL(t)?iV(t):Array.isArray(t)?t.map(t=>e(t,r)||iF.easeOut):iF[t]}(o,n);Array.isArray(h)&&(c.easing=h);let d={delay:i,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"};u&&(d.pseudoElement=u);let p=e.animate(c,d);return p}(t,r,i,l,n),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){let e=iD(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):r.startsWith("--")?t.style.setProperty(r,e):t.style[r]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=iA(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&iC())?(this.animation.timeline=e,il):t(this)}}let iW=new Set(["opacity","clipPath","filter","transform"]),{schedule:iK}=ih(queueMicrotask,!1);function iH(){t=void 0}let iG={now:()=>(void 0===t&&iG.set(im.isProcessing||iu.useManualTiming?im.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(iH)}};class iJ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=iG.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=iG.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new iO);let r=this.events[e].add(t);return"change"===e?()=>{r(),id.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return o&&o.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=iG.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),r?1e3/r*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function iY(e,t){return new iJ(e,t)}let iX=[...rW,rw,rP],iZ=new WeakMap;function iQ(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function i0(e){return"string"==typeof e||Array.isArray(e)}let i1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i2=["initial",...i1];function i5(e){return iQ(e.animate)||i2.some(t=>i0(e[t]))}function i3(e){return!!(i5(e)||e.variants)}let i4={current:null},i8={current:!1},i6="u">typeof window;function i9(e){let t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function i7(e,t,r,i){if("function"==typeof t){let[n,s]=i9(i);t=t(void 0!==r?r:e.custom,n,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[n,s]=i9(i);t=t(void 0!==r?r:e.custom,n,s)}return t}let ne=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nt={};class nr{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,skipAnimations:n,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=iS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=iG.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,id.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=n,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=i5(t),this.isVariantNode=i3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in h){const t=h[e];void 0!==l[e]&&rF(t)&&t.set(l[e])}}mount(e){if(this.hasBeenMounted)for(let e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=e,iZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(i8.current||function(){if(i8.current=!0,i6)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>i4.current=e.matches;e.addEventListener("change",t),t()}else i4.current=!1}(),this.shouldReduceMotion=i4.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){for(let e in this.projection&&this.projection.unmount(),ip(this.notifyUpdate),ip(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let r;if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&iW.has(e)&&this.current instanceof HTMLElement){let{factory:r,keyframes:i,times:n,ease:s,duration:a}=t.accelerate,o=new iq({element:this.current,name:e,keyframes:i,times:n,ease:s,duration:iA(a)}),l=r(o);this.valueSubscriptions.set(e,()=>{l(),o.cancel()});return}let i=t7.has(e);i&&this.onBindTransform&&this.onBindTransform();let n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&id.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});"u">typeof window&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in nt){let t=nt[e];if(!t)continue;let{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rV()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<ne.length;t++){let r=ne[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,r){for(let i in t){let n=t[i],s=r[i];if(rF(n))e.addValue(i,n);else if(rF(s))e.addValue(i,iY(n,{owner:e}));else if(s!==n)if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(n):t.hasAnimated||t.set(n)}else{let t=e.getStaticValue(i);e.addValue(i,iY(void 0!==t?t:n,{owner:e}))}}for(let i in r)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=iY(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=r){let i,n;if("string"==typeof r&&(i=r,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i)||(n=r,/^0[^.\s]+$/u.test(n))))r=parseFloat(r);else{let i;i=r,!iX.find(rq(i))&&rP.test(t)&&(r=i_(e,t))}this.setBaseTarget(e,rF(r)?r.get():r)}return rF(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let i=i7(this.props,r,this.presenceContext?.custom);i&&(t=i[e])}if(r&&void 0!==t)return t;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||rF(i)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new iO),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){iK.render(this.render)}}class ni extends nr{constructor(){super(...arguments),this.KeyframeResolver=iT}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){let r=e.style;return r?r[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;rF(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function nn(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}let ns=(e,t)=>t&&"number"==typeof e?t.transform(e):e,na={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},no=t9.length;function nl(e,t,r){let{style:i,vars:n,transformOrigin:s}=e,a=!1,o=!1;for(let e in t){let r=t[e];if(t7.has(e)){a=!0;continue}if(rX(e)){n[e]=r;continue}{let t=ns(r,rN[e]);e.startsWith("origin")?(o=!0,s[e]=t):i[e]=t}}if(!t.transform&&(a||r?i.transform=function(e,t,r){let i="",n=!0;for(let s=0;s<no;s++){let a=t9[s],o=e[a];if(void 0===o)continue;let l=!0;if("number"==typeof o)l=o===+!!a.startsWith("scale");else{let e=parseFloat(o);l=a.startsWith("scale")?1===e:0===e}if(!l||r){let e=ns(o,rN[a]);if(!l){n=!1;let t=na[a]||a;i+=`${t}(${e}) `}r&&(t[a]=e)}}return i=i.trim(),r?i=r(t,n?"":i):n&&(i="none"),i}(t,e.transform,r):i.transform&&(i.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:r=0}=s;i.transformOrigin=`${e} ${t} ${r}`}}let nu={offset:"stroke-dashoffset",array:"stroke-dasharray"},nc={offset:"strokeDashoffset",array:"strokeDasharray"},nh=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function nd(e,{attrX:t,attrY:r,attrScale:i,pathLength:n,pathSpacing:s=1,pathOffset:a=0,...o},l,u,c){if(nl(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:h,style:d}=e;for(let e of(h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete h.transformBox),nh))void 0!==h[e]&&(d[e]=h[e],delete h[e]);void 0!==t&&(h.x=t),void 0!==r&&(h.y=r),void 0!==i&&(h.scale=i),void 0!==n&&function(e,t,r=1,i=0,n=!0){e.pathLength=1;let s=n?nu:nc;e[s.offset]=`${-i}`,e[s.array]=`${t} ${r}`}(h,n,s,a,!1)}let np=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nf=e=>"string"==typeof e&&"svg"===e.toLowerCase();function nm(e,{style:t,vars:r},i,n){let s,a=e.style;for(s in t)a[s]=t[s];for(s in n?.applyProjectionStyles(a,i),r)a.setProperty(s,r[s])}function ng(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let ny={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!rm.test(e))return e;else e=parseFloat(e);let r=ng(e,t.target.x),i=ng(e,t.target.y);return`${r}% ${i}%`}},nv=(e,t,r)=>e+(t-e)*r,nb={borderRadius:{...ny,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ny,borderTopRightRadius:ny,borderBottomLeftRadius:ny,borderBottomRightRadius:ny,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let i=rP.parse(e);if(i.length>5)return e;let n=rP.createTransformer(e),s=+("number"!=typeof i[0]),a=r.x.scale*t.x,o=r.y.scale*t.y;i[0+s]/=a,i[1+s]/=o;let l=nv(a,o,.5);return"number"==typeof i[2+s]&&(i[2+s]/=l),"number"==typeof i[3+s]&&(i[3+s]/=l),n(i)}}};function nw(e,{layout:t,layoutId:r}){return t7.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!nb[e]||"opacity"===e)}function nx(e,t,r){let i=e.style,n=t?.style,s={};if(!i)return s;for(let t in i)(rF(i[t])||n&&rF(n[t])||nw(t,e)||r?.getValue(t)?.liveStyle!==void 0)&&(s[t]=i[t]);return s}function nk(e,t,r){let i=nx(e,t,r);for(let r in e)(rF(e[r])||rF(t[r]))&&(i[-1!==t9.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return i}class nS extends ni{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rV}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(t7.has(t)){let e=rL(t);return e&&e.default||0}return t=np.has(t)?t:nn(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return nk(e,t,r)}build(e,t,r){nd(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){for(let r in nm(e,t,void 0,i),t.attrs)e.setAttribute(np.has(r)?r:nn(r),t.attrs[r])}mount(e){this.isSVGTag=nf(e.tagName),super.mount(e)}}function n_({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function nE(e){return void 0===e||1===e}function nT({scale:e,scaleX:t,scaleY:r}){return!nE(e)||!nE(t)||!nE(r)}function nA(e){return nT(e)||nR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function nR(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function nP(e,t,r,i,n){return void 0!==n&&(e=i+n*(e-i)),i+r*(e-i)+t}function nO(e,t=0,r=1,i,n){e.min=nP(e.min,t,r,i,n),e.max=nP(e.max,t,r,i,n)}function nj(e,{x:t,y:r}){nO(e.x,t.translate,t.scale,t.originPoint),nO(e.y,r.translate,r.scale,r.originPoint)}function nC(e,t){e.min=e.min+t,e.max=e.max+t}function nI(e,t,r,i,n=.5){let s=nv(e.min,e.max,n);nO(e,t,r,s,i)}function nD(e,t){nI(e.x,t.x,t.scaleX,t.scale,t.originX),nI(e.y,t.y,t.scaleY,t.scale,t.originY)}function nN(e,t){return n_(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}class n$ extends ni{constructor(){super(...arguments),this.type="html",this.renderInstance=nm}readValueFromInstance(e,t){if(t7.has(t))return this.projection?.isProjecting?ie(t):((e,t)=>{let{transform:r="none"}=getComputedStyle(e);return it(r,t)})(e,t);{let r=window.getComputedStyle(e),i=(rX(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return nN(e,t)}build(e,t,r){nl(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return nx(e,t,r)}}let nL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nM(e){if("string"!=typeof e||e.includes("-"));else if(nL.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let nU=(0,Y.createContext)({}),nB=(0,Y.createContext)({strict:!1}),nV=(0,Y.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),nF=(0,Y.createContext)({});function nz(e){return Array.isArray(e)?e.join(" "):e}let nq=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nW(e,t,r){for(let i in t)rF(t[i])||nw(i,r)||(e[i]=t[i])}let nK=()=>({...nq(),attrs:{}}),nH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function nG(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nH.has(e)}let nJ=e=>!nG(e);try{y=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof y&&(nJ=e=>e.startsWith("on")?!nG(e):y(e))}catch{}function nY(e){return rF(e)?e.get():e}let nX=(0,Y.createContext)(null);function nZ(e){let t=(0,Y.useRef)(null);return null===t.current&&(t.current=e()),t.current}let nQ=e=>(t,r)=>{let i=(0,Y.useContext)(nF),n=(0,Y.useContext)(nX),s=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},r,i,n){return{latestValues:function(e,t,r,i){let n={},s=i(e,{});for(let e in s)n[e]=nY(s[e]);let{initial:a,animate:o}=e,l=i5(e),u=i3(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let c=!!r&&!1===r.initial,h=(c=c||!1===a)?o:a;if(h&&"boolean"!=typeof h&&!iQ(h)){let t=Array.isArray(h)?h:[h];for(let r=0;r<t.length;r++){let i=i7(e,t[r]);if(i){let{transitionEnd:e,transition:t,...r}=i;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(n[e]=t)}for(let t in e)n[t]=e[t]}}}return n}(r,i,n,e),renderState:t()}})(e,t,i,n);return r?s():nZ(s)},n0=nQ({scrapeMotionValuesFromProps:nx,createRenderState:nq}),n1=nQ({scrapeMotionValuesFromProps:nk,createRenderState:nK}),n2="u">typeof window,n5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},n3=!1;function n4(){return!function(){if(n3)return;let e={};for(let t in n5)e[t]={isEnabled:e=>n5[t].some(t=>!!e[t])};nt=e,n3=!0}(),nt}let n8=Symbol.for("motionComponentSymbol"),n6="data-"+nn("framerAppearId"),n9=(0,Y.createContext)({});function n7(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let se=n2?Y.useLayoutEffect:Y.useEffect;function st(e,{forwardMotionProps:t=!1,type:r}={},i,n){i&&function(e){let t=n4();for(let r in e)t[r]={...t[r],...e[r]};nt=t}(i);let s=r?"svg"===r:nM(e),a=s?n1:n0;function o(r,i){var o;let l,u,c,h={...(0,Y.useContext)(nV),...r,layoutId:function({layoutId:e}){let t=(0,Y.useContext)(nU).id;return t&&void 0!==e?t+"-"+e:e}(r)},{isStatic:d}=h,p=function(e){let{initial:t,animate:r}=function(e,t){if(i5(e)){let{initial:t,animate:r}=e;return{initial:!1===t||i0(t)?t:void 0,animate:i0(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,Y.useContext)(nF));return(0,Y.useMemo)(()=>({initial:t,animate:r}),[nz(t),nz(r)])}(r),f=a(r,d);if(!d&&n2){(0,Y.useContext)(nB).strict;let t=function(e){let{drag:t,layout:r}=n4();if(!t&&!r)return{};let i={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(h);l=t.MeasureLayout,p.visualElement=function(e,t,r,i,n,s){let{visualElement:a}=(0,Y.useContext)(nF),o=(0,Y.useContext)(nB),l=(0,Y.useContext)(nX),u=(0,Y.useContext)(nV),c=u.reducedMotion,h=u.skipAnimations,d=(0,Y.useRef)(null),p=(0,Y.useRef)(!1);i=i||o.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:a,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c,skipAnimations:h,isSVG:s}),p.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));let f=d.current,m=(0,Y.useContext)(n9);f&&!f.projection&&n&&("html"===f.type||"svg"===f.type)&&function(e,t,r,i){let{layoutId:n,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:n,layout:s,alwaysMeasureLayout:!!a||o&&n7(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}(d.current,r,n,m);let g=(0,Y.useRef)(!1);(0,Y.useInsertionEffect)(()=>{f&&g.current&&f.update(r,l)});let y=r[n6],v=(0,Y.useRef)(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return se(()=>{p.current=!0,f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),(0,Y.useEffect)(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),v.current=!1),f.enteringChildren=void 0)}),f}(e,f,h,n,t.ProjectionNode,s)}return(0,J.jsxs)(nF.Provider,{value:p,children:[l&&p.visualElement?(0,J.jsx)(l,{visualElement:p.visualElement,...h}):null,function(e,t,r,{latestValues:i},n,s=!1,a){let o=(a??nM(e)?function(e,t,r,i){let n=(0,Y.useMemo)(()=>{let r=nK();return nd(r,t,nf(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};nW(t,e.style,e),n.style={...t,...n.style}}return n}:function(e,t){let r,i,n={},s=(r=e.style||{},nW(i={},r,e),Object.assign(i,function({transformTemplate:e},t){return(0,Y.useMemo)(()=>{let r=nq();return nl(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),i);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n})(t,i,n,e),l=function(e,t,r){let i={};for(let n in e)("values"!==n||"object"!=typeof e.values)&&(nJ(n)||!0===r&&nG(n)||!t&&!nG(n)||e.draggable&&n.startsWith("onDrag"))&&(i[n]=e[n]);return i}(t,"string"==typeof e,s),u=e!==Y.Fragment?{...l,...o,ref:r}:{},{children:c}=t,h=(0,Y.useMemo)(()=>rF(c)?c.get():c,[c]);return(0,Y.createElement)(e,{...u,children:h})}(e,r,(o=p.visualElement,u=(0,Y.useRef)(i),(0,Y.useInsertionEffect)(()=>{u.current=i}),c=(0,Y.useRef)(null),(0,Y.useCallback)(e=>{e&&f.onMount?.(e),o&&(e?o.mount(e):o.unmount());let t=u.current;if("function"==typeof t)if(e){let r=t(e);"function"==typeof r&&(c.current=r)}else c.current?(c.current(),c.current=null):t(e);else t&&(t.current=e)},[o])),f,d,t,s)]})}o.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let l=(0,Y.forwardRef)(o);return l[n8]=e,l}class sr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function si(e,t,r){let i=e.getProps();return i7(i,t,void 0!==r?r:i.custom,e)}function sn(e,t){if(e?.inherit&&t){let{inherit:r,...i}=e;return{...t,...i}}return e}function ss(e,t){let r=e?.[t]??e?.default??e;return r!==e?sn(r,e):r}let sa=e=>Array.isArray(e);function so(e,t){let r=e.getValue("willChange");if(rF(r)&&r.add)return r.add(t);if(!r&&iu.WillChange){let r=new iu.WillChange("auto");e.addValue("willChange",r),r.add(t)}}let sl=(e,t)=>r=>t(e(r)),su=(...e)=>e.reduce(sl);function sc(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function sh(e,t){return r=>r>0?t:e}let sd=(e,t,r)=>{let i=e*e,n=r*(t*t-i)+i;return n<0?0:Math.sqrt(n)},sp=[rh,rc,rb];function sf(e){let t=sp.find(t=>t.test(e));if(rG(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===rb&&(r=function({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,r/=100;let n=0,s=0,a=0;if(t/=100){let i=r<.5?r*(1+t):r+t-r*t,o=2*r-i;n=sc(o,i,e+1/3),s=sc(o,i,e),a=sc(o,i,e-1/3)}else n=s=a=r;return{red:Math.round(255*n),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(r)),r}let sm=(e,t)=>{let r=sf(e),i=sf(t);if(!r||!i)return sh(e,t);let n={...r};return e=>(n.red=sd(r.red,i.red,e),n.green=sd(r.green,i.green,e),n.blue=sd(r.blue,i.blue,e),n.alpha=nv(r.alpha,i.alpha,e),rc.transform(n))},sg=new Set(["none","hidden"]);function sy(e,t){return r=>nv(e,t,r)}function sv(e){return"number"==typeof e?sy:"string"==typeof e?rQ(e)?sh:rw.test(e)?sm:sx:Array.isArray(e)?sb:"object"==typeof e?rw.test(e)?sm:sw:sh}function sb(e,t){let r=[...e],i=r.length,n=e.map((e,r)=>sv(e)(e,t[r]));return e=>{for(let t=0;t<i;t++)r[t]=n[t](e);return r}}function sw(e,t){let r={...e,...t},i={};for(let n in r)void 0!==e[n]&&void 0!==t[n]&&(i[n]=sv(e[n])(e[n],t[n]));return e=>{for(let t in i)r[t]=i[t](e);return r}}let sx=(e,t)=>{let r=rP.createTransformer(t),i=rE(e),n=rE(t);if(!(i.indexes.var.length===n.indexes.var.length&&i.indexes.color.length===n.indexes.color.length&&i.indexes.number.length>=n.indexes.number.length))return rG(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),sh(e,t);if(sg.has(e)&&!n.values.length||sg.has(t)&&!i.values.length)return sg.has(e)?r=>r<=0?e:t:r=>r>=1?t:e;return su(sb(function(e,t){let r=[],i={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){let s=t.types[n],a=e.indexes[s][i[s]],o=e.values[a]??0;r[n]=o,i[s]++}return r}(i,n),n.values),r)};function sk(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?nv(e,t,r):sv(e)(e,t)}let sS=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>id.update(t,e),stop:()=>ip(t),now:()=>im.isProcessing?im.timestamp:iG.now()}};function s_(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function sE(e,t,r){var i,n;let s=Math.max(t-5,0);return i=r-e(s),(n=t-s)?1e3/n*i:0}let sT=.01,sA=2,sR=.005,sP=.5;function sO(e,t){return e*Math.sqrt(1-t*t)}let sj=["duration","bounce"],sC=["stiffness","damping","mass"];function sI(e,t){return t.some(t=>void 0!==e[t])}function sD(e=.3,t=.3){let r,i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:n,restDelta:s}=i,a=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!sI(e,sC)&&sI(e,sj))if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),i=r*r,n=2*re(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:1,stiffness:i,damping:n}}else{let r=function({duration:e=800,bounce:t=.3,velocity:r=0,mass:i=1}){let n,s;rG(e<=iA(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=re(.05,1,a),e=re(.01,10,e/1e3),a<1?(n=t=>{let i=t*a,n=i*e;return .001-(i-r)/sO(t,a)*Math.exp(-n)},s=t=>{let i=t*a*e,s=Math.pow(a,2)*Math.pow(t,2)*e,o=Math.exp(-i),l=sO(Math.pow(t,2),a);return(i*r+r-s)*o*(-n(t)+.001>0?-1:1)/l}):(n=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),s=t=>e*e*(r-t)*Math.exp(-t*e));let o=function(e,t,r){let i=r;for(let r=1;r<12;r++)i-=e(i)/t(i);return i}(n,s,5/e);if(e=iA(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*i;return{stiffness:t,damping:2*a*Math.sqrt(i*t),duration:e}}}(e);(t={...t,...r,mass:1}).isResolvedFromDuration=!0}return t}({...i,velocity:-((i.velocity||0)/1e3)}),m=p||0,g=c/(2*Math.sqrt(u*h)),y=o-a,v=Math.sqrt(u/h)/1e3,b=5>Math.abs(y);if(n||(n=b?sT:sA),s||(s=b?sR:sP),g<1){let e=sO(v,g);r=t=>o-Math.exp(-g*v*t)*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)r=e=>o-Math.exp(-v*e)*(y+(m+v*y)*e);else{let e=v*Math.sqrt(g*g-1);r=t=>{let r=Math.exp(-g*v*t),i=Math.min(e*t,300);return o-r*((m+g*v*y)*Math.sinh(i)+e*y*Math.cosh(i))/e}}let w={calculatedDuration:f&&d||null,next:e=>{let t=r(e);if(f)l.done=e>=d;else{let i=0===e?m:0;g<1&&(i=0===e?iA(m):sE(r,e,t));let a=Math.abs(o-t)<=s;l.done=Math.abs(i)<=n&&a}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(s_(w),2e4),t=iB(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function sN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){let h,d,p=e[0],f={done:!1,value:p},m=r*t,g=p+m,y=void 0===a?g:a(g);y!==g&&(m=y-p);let v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{let t=v(e),r=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:r},x=e=>{let t;if(t=f.value,void 0!==o&&t<o||void 0!==l&&t>l){var r;h=e,d=sD({keyframes:[f.value,(r=f.value,void 0===o?l:void 0===l||Math.abs(o-r)<Math.abs(l-r)?o:l)],velocity:sE(b,e,f.value),damping:n,stiffness:s,restDelta:u,restSpeed:c})}};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==h||(t=!0,w(e),x(e)),void 0!==h&&e>=h)?d.next(e-h):(t||w(e),f)}}}sD.applyToOptions=e=>{let t=function(e,t=100,r){let i=r({...e,keyframes:[0,t]}),n=Math.min(s_(i),2e4);return{type:"keyframes",ease:e=>i.next(n*e).value/t,duration:n/1e3}}(e,100,sD);return e.ease=t.ease,e.duration=iA(t.duration),e.type="keyframes",e};let s$=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function sL(e,t,r,i){return e===t&&r===i?il:n=>0===n||1===n?n:s$(function(e,t,r,i,n){let s,a,o=0;do(s=s$(a=t+(r-t)/2,i,n)-e)>0?r=a:t=a;while(Math.abs(s)>1e-7&&++o<12)return a}(n,0,1,e,r),t,i)}let sM=sL(.42,0,1,1),sU=sL(0,0,.58,1),sB=sL(.42,0,.58,1),sV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sF=e=>t=>1-e(1-t),sz=sL(.33,1.53,.69,.99),sq=sF(sz),sW=sV(sq),sK=e=>(e*=2)<1?.5*sq(e):.5*(2-Math.pow(2,-10*(e-1))),sH=e=>1-Math.sin(Math.acos(e)),sG=sF(sH),sJ=sV(sH),sY={linear:il,easeIn:sM,easeInOut:sB,easeOut:sU,circIn:sH,circInOut:sJ,circOut:sG,backIn:sq,backInOut:sW,backOut:sz,anticipate:sK},sX=e=>{if(iL(e)){rJ(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,r,i,n]=e;return sL(t,r,i,n)}return"string"==typeof e?(rJ(void 0!==sY[e],`Invalid easing type '${e}'`,"invalid-easing-type"),sY[e]):e},sZ=(e,t,r)=>{let i=t-e;return 0===i?1:(r-e)/i};function sQ({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){var n;let s,a=Array.isArray(i)&&"number"!=typeof i[0]?i.map(sX):sX(i),o={done:!1,value:t[0]},l=function(e,t,{clamp:r=!0,ease:i,mixer:n}={}){let s=e.length;if(rJ(s===t.length,"Both input and output ranges must be the same length","range-length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,r){let i=[],n=r||iu.mix||sk,s=e.length-1;for(let r=0;r<s;r++){let s=n(e[r],e[r+1]);t&&(s=su(Array.isArray(t)?t[r]||il:t,s)),i.push(s)}return i}(t,i,n),l=o.length,u=r=>{if(a&&r<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(r<e[i+1]);i++);let n=sZ(e[i],e[i+1],r);return o[i](n)};return r?t=>u(re(e[0],e[s-1],t)):u}((n=r&&r.length===t.length?r:(!function(e,t){let r=e[e.length-1];for(let i=1;i<=t;i++){let n=sZ(0,t,i);e.push(nv(r,1,n))}}(s=[0],t.length-1),s),n.map(t=>t*e)),t,{ease:Array.isArray(a)?a:t.map(()=>a||sB).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let s0={decay:sN,inertia:sN,tween:sQ,keyframes:sQ,spring:sD};function s1(e){"string"==typeof e.type&&(e.type=s0[e.type])}let s2=e=>e/100;class s5 extends iN{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==iG.now()&&this.tick(iG.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},i$.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;s1(e);let{type:t=sQ,repeat:r=0,repeatDelay:i=0,repeatType:n,velocity:s=0}=e,{keyframes:a}=e,o=t||sQ;o!==sQ&&"number"!=typeof a[0]&&(this.mixKeyframes=su(s2,sk(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===n&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=s_(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:r,totalDuration:i,mixKeyframes:n,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return r.next(0);let{delay:l=0,keyframes:u,repeat:c,repeatType:h,repeatDelay:d,type:p,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let v=this.currentTime,b=r;if(c){let e=Math.min(this.currentTime,i)/a,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,c+1))%2&&("reverse"===h?(r=1-r,d&&(r-=d/a)):"mirror"===h&&(b=s)),v=re(0,1,r)*a}let w=y?{done:!1,value:u[0]}:b.next(v);n&&(w.value=n(w.value));let{done:x}=w;y||null===o||(x=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return k&&p!==sN&&(w.value=iD(u,this.options,m,this.speed)),f&&f(w.value),k&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=iA(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(iG.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=sS,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(iG.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,i$.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}let s3={anticipate:sK,backInOut:sW,circInOut:sJ};class s4 extends iq{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in s3&&(e.ease=s3[e.ease])}(e),s1(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:r,onComplete:i,element:n,...s}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let a=new s5({...s,autoplay:!1}),o=Math.max(10,iG.now()-this.startTime),l=re(0,10,o-10);t.setWithVelocity(a.sample(Math.max(0,o-l)).value,a.sample(o).value,l),a.stop()}}let s8=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(rP.test(e)||"0"===e)&&!e.startsWith("url("));function s6(e){e.duration=0,e.type="keyframes"}let s9=new Set(["opacity","clipPath","filter","transform"]),s7=ij(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ae extends iN{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:s="loop",keyframes:a,name:o,motionValue:l,element:u,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=iG.now();const h={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:n,repeatType:s,name:o,motionValue:l,element:u,...c},d=u?.KeyframeResolver||iS;this.keyframeResolver=new d(a,(e,t,r)=>this.onKeyframesResolved(e,t,h,!r),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;let{name:n,type:s,velocity:a,delay:o,isHandoff:l,onUpdate:u}=r;this.resolvedAt=iG.now(),!function(e,t,r,i){let n=e[0];if(null===n)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],a=s8(n,t),o=s8(s,t);return rG(a===o,`You are trying to animate ${t} from "${n}" to "${s}". "${a?s:n}" is not an animatable value.`,"value-not-animatable"),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||iz(r))&&i)}(e,n,s,a)&&((iu.instantAnimations||!o)&&u?.(iD(e,r,t)),e[0]=e[e.length-1],s6(r),r.repeat=0);let c={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},h=!l&&function(e){let{motionValue:t,name:r,repeatDelay:i,repeatType:n,damping:s,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return s7()&&r&&s9.has(r)&&("transform"!==r||!l)&&!o&&!i&&"mirror"!==n&&0!==s&&"inertia"!==a}(c),d=c.motionValue?.owner?.current,p=h?new s4({...c,element:d}):new s5(c);p.finished.then(()=>{this.notifyFinished()}).catch(il),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),iw=!0,ik(),ix(),iw=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let at={type:"spring",stiffness:500,damping:25,restSpeed:10},ar={type:"keyframes",duration:.8},ai={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},an=e=>null!==e,as=(e,t,r,i={},n,s)=>a=>{let o=ss(i,e)||{},l=o.delay||i.delay||0,{elapsed:u=0}=i;u-=iA(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:n};!function({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:n,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(o)&&Object.assign(c,((e,{keyframes:t})=>t.length>2?ar:t7.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:at:ai)(e,c)),c.duration&&(c.duration=iA(c.duration)),c.repeatDelay&&(c.repeatDelay=iA(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(s6(c),0===c.delay&&(h=!0)),(iu.instantAnimations||iu.skipAnimations||n?.shouldSkipAnimations)&&(h=!0,s6(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,h&&!s&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:r="loop"},i){let n=e.filter(an),s=t&&"loop"!==r&&t%2==1?0:n.length-1;return n[s]}(c.keyframes,o);if(void 0!==e)return void id.update(()=>{c.onUpdate(e),c.onComplete()})}return o.isSync?new s5(c):new ae(c)};function aa(e,t,{delay:r=0,transitionOverride:i,type:n}={}){let{transition:s,transitionEnd:a,...o}=t,l=e.getDefaultTransition();s=s?sn(s,l):l;let u=s?.reduceMotion;i&&(s=i);let c=[],h=n&&e.animationState&&e.animationState.getState()[n];for(let t in o){let i=e.getValue(t,e.latestValues[t]??null),n=o[t];if(void 0===n||h&&function({protectedKeys:e,needsAnimating:t},r){let i=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,i}(h,t))continue;let a={delay:r,...ss(s||{},t)},l=i.get();if(void 0!==l&&!i.isAnimating&&!Array.isArray(n)&&n===l&&!a.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let r=e.props[n6];if(r){let e=window.MotionHandoffAnimation(r,t,id);null!==e&&(a.startTime=e,d=!0)}}so(e,t);let p=u??e.shouldReduceMotion;i.start(as(t,i,n,p&&rz.has(t)?{type:!1}:a,e,d));let f=i.animation;f&&c.push(f)}if(a){let t=()=>id.update(()=>{a&&function(e,t){let{transitionEnd:r={},transition:i={},...n}=si(e,t)||{};for(let t in n={...n,...r}){var s;let r=sa(s=n[t])?s[s.length-1]||0:s;e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,iY(r))}}(e,a)});c.length?Promise.all(c).then(t):t()}return c}function ao(e,t,r,i=0,n=1){let s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*i;return"function"==typeof r?r(s,a):1===n?s*i:o-s*i}function al(e,t,r={}){let i=si(e,t,"exit"===r.type?e.presenceContext?.custom:void 0),{transition:n=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(n=r.transitionOverride);let s=i?()=>Promise.all(aa(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=n;return function(e,t,r=0,i=0,n=0,s=1,a){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(al(l,t,{...a,delay:r+("function"==typeof i?0:i)+ao(e.variantChildren,l,i,n,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,i,s,a,o,r)}:()=>Promise.resolve(),{when:o}=n;if(!o)return Promise.all([s(),a(r.delay)]);{let[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then(()=>t())}}let au=i2.length;function ac(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}let ah=[...i1].reverse(),ad=i1.length;function ap(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function af(){return{animate:ap(!0),whileInView:ap(),whileHover:ap(),whileTap:ap(),whileDrag:ap(),whileFocus:ap(),exit:ap()}}let am=0;function ag(e){return[e("x"),e("y")]}let ay=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),av=new Set(["INPUT","SELECT","TEXTAREA"]);function ab(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}let aw={x:!1,y:!1};function ax(e){return e.max-e.min}function ak(e,t,r,i=.5){e.origin=i,e.originPoint=nv(t.min,t.max,e.origin),e.scale=ax(r)/ax(t),e.translate=nv(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function aS(e,t,r,i){ak(e.x,t.x,r.x,i?i.originX:void 0),ak(e.y,t.y,r.y,i?i.originY:void 0)}function a_(e,t,r){e.min=r.min+t.min,e.max=e.min+ax(t)}function aE(e,t,r){e.min=t.min-r.min,e.max=e.min+ax(t)}function aT(e,t,r){aE(e.x,t.x,r.x),aE(e.y,t.y,r.y)}function aA(e){return"object"==typeof e&&null!==e}function aR(e){return aA(e)&&"ownerSVGElement"in e}function aP(e,t,r){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);let n=r?.[e]??i.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e).filter(e=>null!=e)}let aO=new WeakMap,aj=(e,t,r)=>(i,n)=>n&&n[0]?n[0][e+"Size"]:aR(i)&&"getBBox"in i?i.getBBox()[t]:i[r],aC=aj("inline","width","offsetWidth"),aI=aj("block","height","offsetHeight");function aD({target:e,borderBoxSize:t}){aO.get(e)?.forEach(r=>{r(e,{get width(){return aC(e,t)},get height(){return aI(e,t)}})})}function aN(e){e.forEach(aD)}let a$=new Set;function aL(e,t){let n;return"function"==typeof e?(a$.add(e),i||(i=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};a$.forEach(t=>t(e))},window.addEventListener("resize",i)),()=>{a$.delete(e),a$.size||"function"!=typeof i||(window.removeEventListener("resize",i),i=void 0)}):(!r&&"u">typeof ResizeObserver&&(r=new ResizeObserver(aN)),(n=aP(e)).forEach(e=>{let i=aO.get(e);i||(i=new Set,aO.set(e,i)),i.add(t),r?.observe(e)}),()=>{n.forEach(e=>{let i=aO.get(e);i?.delete(t),i?.size||r?.unobserve(e)})})}let aM=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function aU(e){return{point:{x:e.pageX,y:e.pageY}}}function aB(e,t,r,i){return ab(e,t,e=>aM(e)&&r(e,aU(e)),i)}let aV=({current:e})=>e?e.ownerDocument.defaultView:null,aF=(e,t)=>Math.abs(e-t),az=new Set(["auto","scroll"]);class aq{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:n=!1,distanceThreshold:s=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=aH(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,n=(e=r.offset,t={x:0,y:0},Math.sqrt(aF(e.x,t.x)**2+aF(e.y,t.y)**2)>=this.distanceThreshold);if(!i&&!n)return;let{point:s}=r,{timestamp:a}=im;this.history.push({...s,timestamp:a});let{onStart:o,onMove:l}=this.handlers;i||(o&&o(this.lastMoveEvent,r),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,r)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=aW(t,this.transformPagePoint),id.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:i,resumeAnimation:n}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=aH("pointercancel"===e.type?this.lastMoveEventInfo:aW(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,s),i&&i(e,s)},!aM(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const o=aW(aU(e),this.transformPagePoint),{point:l}=o,{timestamp:u}=im;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=t;c&&c(e,aH(o,this.history)),this.removeListeners=su(aB(this.contextWindow,"pointermove",this.handlePointerMove),aB(this.contextWindow,"pointerup",this.handlePointerUp),aB(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(az.has(e.overflowX)||az.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},n={x:i.x-t.x,y:i.y-t.y};(0!==n.x||0!==n.y)&&(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=n.x,this.lastMoveEventInfo.point.y+=n.y):this.history.length>0&&(this.history[0].x-=n.x,this.history[0].y-=n.y),this.scrollPositions.set(e,i),id.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ip(this.updatePoint)}}function aW(e,t){return t?{point:t(e.point)}:e}function aK(e,t){return{x:e.x-t.x,y:e.y-t.y}}function aH({point:e},t){return{point:e,delta:aK(e,aG(t)),offset:aK(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null,n=aG(e);for(;r>=0&&(i=e[r],!(n.timestamp-i.timestamp>iA(.1)));)r--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&n.timestamp-i.timestamp>2*iA(.1)&&(i=e[1]);let s=(n.timestamp-i.timestamp)/1e3;if(0===s)return{x:0,y:0};let a={x:(n.x-i.x)/s,y:(n.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function aG(e){return e[e.length-1]}function aJ(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function aY(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function aX(e,t,r){return{min:aZ(e,t),max:aZ(e,r)}}function aZ(e,t){return"number"==typeof e?e:e[t]||0}let aQ=new WeakMap;class a0{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rV(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let n=e=>{t&&this.snapToCursor(aU(e).point),this.stopAnimation()},s=(e,t)=>{let{drag:r,dragPropagation:i,onDragStart:n}=this.getProps();if(r&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(aw[e])return null;else return aw[e]=!0,()=>{aw[e]=!1};return aw.x||aw.y?null:(aw.x=aw.y=!0,()=>{aw.x=aw.y=!1})}(r),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ag(e=>{let t=this.getAxisMotionValue(e).get()||0;if(rf.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let i=r.layout.layoutBox[e];i&&(t=ax(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),n&&id.update(()=>n(e,t),!1,!0),so(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:r,dragDirectionLock:i,onDirectionLock:n,onDrag:s}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:a}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(a),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&id.update(()=>s(e,t),!1,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new aq(e,{onSessionStart:n,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:aV(this.visualElement),element:this.visualElement.current})}stop(e,t){let r=e||this.latestPointerEvent,i=t||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!i||!r)return;let{velocity:s}=i;this.startAnimation(s);let{onDragEnd:a}=this.getProps();a&&id.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,r){let{drag:i}=this.getProps();if(!r||!a2(e,i,this.currentDirection))return;let n=this.getAxisMotionValue(e),s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:r},i){return void 0!==t&&e<t?e=i?nv(t,e,i.min):Math.max(e,t):void 0!==r&&e>r&&(e=i?nv(r,e,i.max):Math.min(e,r)),e}(s,this.constraints[e],this.elastic[e])),n.set(s)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&n7(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:t,left:r,bottom:i,right:n}){return{x:aJ(e.x,r,n),y:aJ(e.y,t,i)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:aX(e,"left","right"),y:aX(e,"top","bottom")}}(t),i!==this.constraints&&!n7(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&ag(e=>{var t,i;let n;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=r.layoutBox[e],i=this.constraints[e],n={},void 0!==i.min&&(n.min=i.min-t.min),void 0!==i.max&&(n.max=i.max-t.min),n))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!n7(t))return!1;let i=t.current;rJ(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let s=function(e,t,r){let i=nN(e,r),{scroll:n}=t;return n&&(nC(i.x,n.offset.x),nC(i.y,n.offset.y)),i}(i,n.root,this.visualElement.getTransformPagePoint()),a=(e=n.layout.layoutBox,{x:aY(e.x,s.x),y:aY(e.y,s.y)});if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=n_(e))}return a}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(ag(a=>{if(!a2(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:r?e[a]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return so(this.visualElement,e),r.start(as(e,r,0,t,this.visualElement,!1))}stopAnimation(){ag(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ag(t=>{let{drag:r}=this.getProps();if(!a2(t,r,this.currentDirection))return;let{projection:i}=this.visualElement,n=this.getAxisMotionValue(t);if(i&&i.layout){let{min:r,max:s}=i.layout.layoutBox[t],a=n.get()||0;n.set(e[t]-nv(r,s,.5)+a)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!n7(t)||!r||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};ag(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var r,n;let s,a,o,l=t.get();i[e]=(r={min:l,max:l},n=this.constraints[e],s=.5,a=ax(r),(o=ax(n))>a?s=sZ(n.min,n.max-a,r.min):a>o&&(s=sZ(r.min,r.max-o,n.min)),re(0,1,s))}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),ag(t=>{if(!a2(t,e,null))return;let r=this.getAxisMotionValue(t),{min:n,max:s}=this.constraints[t];r.set(nv(n,s,i[t]))}),this.visualElement.render()}addListeners(){let e;if(!this.visualElement.current)return;aQ.set(this.visualElement,this);let t=this.visualElement.current,r=aB(t,"pointerdown",e=>{let{drag:r,dragListener:i=!0}=this.getProps(),n=e.target,s=n!==t&&(av.has(n.tagName)||!0===n.isContentEditable);r&&i&&!s&&this.start(e)}),i=()=>{var r,i,n;let s,a,{dragConstraints:o}=this.getProps();n7(o)&&o.current&&(this.constraints=this.resolveRefConstraints(),e||(r=t,i=o.current,s=aL(r,a1(n=()=>this.scalePositionWithinConstraints())),a=aL(i,a1(n)),e=()=>{s(),a()}))},{projection:n}=this.visualElement,s=n.addEventListener("measure",i);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),id.read(i);let a=ab(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(ag(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),o&&o(),e&&e()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:s=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:s,dragMomentum:a}}}function a1(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function a2(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}let a5=e=>(t,r)=>{e&&id.update(()=>e(t,r),!1,!0)},a3={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var a4=Y;function a8(e=!0){let t=(0,Y.useContext)(nX);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:i,register:n}=t,s=(0,Y.useId)();(0,Y.useEffect)(()=>{if(e)return n(s)},[e]);let a=(0,Y.useCallback)(()=>e&&i&&i(s),[s,i,e]);return!r&&i?[!1,a]:[!0]}let a6=!1;class a9 extends a4.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=e;n&&(t.group&&t.group.add(n),r&&r.register&&i&&r.register(n),a6&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),a3.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:i,isPresent:n}=this.props,{projection:s}=r;return s&&(s.isPresent=n,e.layoutDependency!==t&&s.setOptions({...s.options,layoutDependency:t}),a6=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==n?s.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?s.promote():s.relegate()||id.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iK.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;a6=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a7(e){let[t,r]=a8(),i=(0,a4.useContext)(nU);return(0,J.jsx)(a9,{...e,layoutGroup:i,switchLayoutGroup:(0,a4.useContext)(n9),isPresent:t,safeToRemove:r})}let oe=["TopLeft","TopRight","BottomLeft","BottomRight"],ot=oe.length,or=e=>"string"==typeof e?parseFloat(e):e,oi=e=>"number"==typeof e||rm.test(e);function on(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let os=oo(0,.5,sG),oa=oo(.5,.95,il);function oo(e,t,r){return i=>i<e?0:i>t?1:r(sZ(e,t,i))}function ol(e,t){e.min=t.min,e.max=t.max}function ou(e,t){ol(e.x,t.x),ol(e.y,t.y)}function oc(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function oh(e,t,r,i,n){return e-=t,e=i+1/r*(e-i),void 0!==n&&(e=i+1/n*(e-i)),e}function od(e,t,[r,i,n],s,a){!function(e,t=0,r=1,i=.5,n,s=e,a=e){if(rf.test(t)&&(t=parseFloat(t),t=nv(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=nv(s.min,s.max,i);e===s&&(o-=t),e.min=oh(e.min,t,r,o,n),e.max=oh(e.max,t,r,o,n)}(e,t[r],t[i],t[n],t.scale,s,a)}let op=["x","scaleX","originX"],of=["y","scaleY","originY"];function om(e,t,r,i){od(e.x,t,op,r?r.x:void 0,i?i.x:void 0),od(e.y,t,of,r?r.y:void 0,i?i.y:void 0)}function og(e){return 0===e.translate&&1===e.scale}function oy(e){return og(e.x)&&og(e.y)}function ov(e,t){return e.min===t.min&&e.max===t.max}function ob(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ow(e,t){return ob(e.x,t.x)&&ob(e.y,t.y)}function ox(e){return ax(e.x)/ax(e.y)}function ok(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oS{constructor(){this.members=[]}add(e){iR(this.members,e);for(let t=this.members.length-1;t>=0;t--){let r=this.members[t];if(r===e||r===this.lead||r===this.prevLead)continue;let i=r.instance;i&&!1===i.isConnected&&!1!==r.isPresent&&!r.snapshot&&iP(this.members,r)}e.scheduleRender()}remove(e){if(iP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e],i=r.instance;if(!1!==r.isPresent&&(!i||!1!==i.isConnected)){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();let i=r.options.layoutDependency,n=e.options.layoutDependency;if(void 0===i||void 0===n||i!==n){let i=r.instance;!(i&&!1===i.isConnected&&!r.snapshot)&&(e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}let{crossfade:s}=e.options;!1===s&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let o_=(e,t)=>e.depth-t.depth;class oE{constructor(){this.children=[],this.isDirty=!1}add(e){iR(this.children,e),this.isDirty=!0}remove(e){iP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(o_),this.isDirty=!1,this.children.forEach(e)}}let oT=["","X","Y","Z"],oA=0;function oR(e,t,r,i){let{latestValues:n}=t;n[e]&&(r[e]=n[e],t.setStaticValue(e,0),i&&(i[e]=0))}function oP({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(e={},r=t?.()){this.id=oA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oC),this.nodes.forEach(oU),this.nodes.forEach(oB),this.nodes.forEach(oI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new oE)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new iO),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=aR(t)&&!(aR(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:r,layout:i,visualElement:n}=this.options;if(n&&!n.current&&n.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let r,i=0,n=()=>this.root.updateBlockedByResize=!1;id.read(()=>{i=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==i){let t,s;i=e,this.root.updateBlockedByResize=!0,r&&r(),t=iG.now(),s=({timestamp:e})=>{let r=e-t;r>=250&&(ip(s),n(r-250))},id.setup(s,!0),r=()=>ip(s),a3.hasAnimatedSinceResize&&(a3.hasAnimatedSinceResize=!1,this.nodes.forEach(oM))}})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&n&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let s=this.options.transition||n.getDefaultTransition()||oK,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=n.getProps(),l=!this.targetLayout||!ow(this.targetLayout,i),u=!t&&r;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...ss(s,"layout"),onPlay:a,onComplete:o};(n.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||oM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ip(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oV),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let i=r.props[n6];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",id,!(e||r))}let{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&e(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oN);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(o$);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oL),this.nodes.forEach(oO),this.nodes.forEach(oj)):this.nodes.forEach(o$),this.clearAllSnapshots();let e=iG.now();im.delta=re(0,1e3/60,e-im.timestamp),im.timestamp=e,im.isProcessing=!0,ig.update.process(im),ig.preRender.process(im),ig.render.process(im),im.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iK.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oD),this.sharedNodes.forEach(oF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,id.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){id.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ax(this.snapshot.measuredBox.x)||ax(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rV(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!n)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!oy(this.projectionDelta),r=this.getTransformTemplate(),i=r?r(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||nA(this.latestValues)||s)&&(n(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),i=this.removeElementScroll(r);return e&&(i=this.removeTransform(i)),oJ((t=i).x),oJ(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return rV();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oX))){let{scroll:e}=this.root;e&&(nC(t.x,e.offset.x),nC(t.y,e.offset.y))}return t}removeElementScroll(e){let t=rV();if(ou(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){let i=this.path[r],{scroll:n,options:s}=i;i!==this.root&&n&&s.layoutScroll&&(n.wasRoot&&ou(t,e),nC(t.x,n.offset.x),nC(t.y,n.offset.y))}return t}applyTransform(e,t=!1){let r=rV();ou(r,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nD(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),nA(i.latestValues)&&nD(r,i.latestValues)}return nA(this.latestValues)&&nD(r,this.latestValues),r}removeTransform(e){let t=rV();ou(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!nA(r.latestValues))continue;nT(r.latestValues)&&r.updateSnapshot();let i=rV();ou(i,r.measurePageBox()),om(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}return nA(this.latestValues)&&om(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==im.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:n}=this.options;if(!this.layout||!(i||n))return;this.resolvedRelativeTargetAt=im.timestamp;let s=this.getClosestProjectingParent();if(s&&this.linkedParentVersion!==s.layoutVersion&&!s.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(s&&s.layout?this.createRelativeTarget(s,this.layout.layoutBox,s.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=rV(),this.targetWithTransforms=rV()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var a,o,l;this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,a_(a.x,o.x,l.x),a_(a.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ou(this.target,this.layout.layoutBox),nj(this.target,this.targetDelta)):ou(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,s&&!!s.resumingFrom==!!this.resumingFrom&&!s.options.layoutScroll&&s.target&&1!==this.animationProgress?this.createRelativeTarget(s,this.target,s.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||nT(this.parent.latestValues)||nR(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,r){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rV(),this.relativeTargetOrigin=rV(),aT(this.relativeTargetOrigin,t,r),ou(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===im.timestamp&&(r=!1),r)return;let{layout:i,layoutId:n}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||n))return;ou(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,a=this.treeScale.y;!function(e,t,r,i=!1){let n,s,a=r.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){s=(n=r[o]).projectionDelta;let{visualElement:a}=n.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(i&&n.options.layoutScroll&&n.scroll&&n!==n.root&&nD(e,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,nj(e,s)),i&&nA(n.latestValues)&&nD(e,n.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=rV());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(oc(this.prevProjectionDelta.x,this.projectionDelta.x),oc(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),aS(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&ok(this.projectionDelta.x,this.prevProjectionDelta.x)&&ok(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rU(),this.projectionDelta=rU(),this.projectionDeltaWithTransform=rU()}setAnimationOrigin(e,t=!1){let r,i=this.snapshot,n=i?i.latestValues:{},s={...this.latestValues},a=rU();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=rV(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(oW));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(oz(a.x,e.x,i),oz(a.y,e.y,i),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,p,f,m,g;aT(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=o,g=i,oq(p.x,f.x,m.x,g),oq(p.y,f.y,m.y,g),r&&(u=this.relativeTarget,d=r,ov(u.x,d.x)&&ov(u.y,d.y))&&(this.isProjectionDirty=!1),r||(r=rV()),ou(r,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,r,i,n,s){n?(e.opacity=nv(0,r.opacity??1,os(i)),e.opacityExit=nv(t.opacity??1,0,oa(i))):s&&(e.opacity=nv(t.opacity??1,r.opacity??1,i));for(let n=0;n<ot;n++){let s=`border${oe[n]}Radius`,a=on(t,s),o=on(r,s);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||oi(a)===oi(o)?(e[s]=Math.max(nv(or(a),or(o),i),0),(rf.test(o)||rf.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||r.rotate)&&(e.rotate=nv(t.rotate||0,r.rotate||0,i))}(s,n,this.latestValues,i,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ip(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=id.update(()=>{var t,r,i;let n;a3.hasAnimatedSinceResize=!0,i$.layout++,this.motionValue||(this.motionValue=iY(0)),this.currentAnimation=(t=this.motionValue,r=[0,1e3],i={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{i$.layout--},onComplete:()=>{i$.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(n=rF(t)?t:iY(t)).start(as("",n,r,i)),n.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:i,latestValues:n}=e;if(t&&r&&i){if(this!==e&&this.layout&&i&&oY(this.options.animationType,this.layout.layoutBox,i.layoutBox)){r=this.target||rV();let t=ax(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let i=ax(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+i}ou(t,r),nD(t,n),aS(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new oS),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let i=this.getStack();i&&i.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let i={};r.z&&oR("z",e,i,this.animationValues);for(let t=0;t<oT.length;t++)oR(`rotate${oT[t]}`,e,i,this.animationValues),oR(`skew${oT[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let r=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=nY(t?.pointerEvents)||"",e.transform=r?r(this.latestValues,""):"none";return}let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=nY(t?.pointerEvents)||""),this.hasProjected&&!nA(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1);return}e.visibility="";let n=i.animationValues||i.latestValues;this.applyTransformsToTarget();let s=function(e,t,r){let i="",n=e.x.translate/t.x,s=e.y.translate/t.y,a=r?.z||0;if((n||s||a)&&(i=`translate3d(${n}px, ${s}px, ${a}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:n,rotateY:s,skewX:a,skewY:o}=r;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),n&&(i+=`rotateX(${n}deg) `),s&&(i+=`rotateY(${s}deg) `),a&&(i+=`skewX(${a}deg) `),o&&(i+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(i+=`scale(${o}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,n);r&&(s=r(n,s)),e.transform=s;let{x:a,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,i.animationValues?e.opacity=i===this?n.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:n.opacityExit:e.opacity=i===this?void 0!==n.opacity?n.opacity:"":void 0!==n.opacityExit?n.opacityExit:0,nb){if(void 0===n[t])continue;let{correct:r,applyTo:a,isCSSVariable:o}=nb[t],l="none"===s?n[t]:r(n[t],i);if(a){let t=a.length;for(let r=0;r<t;r++)e[a[r]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=i===this?nY(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(oN),this.root.sharedNodes.clear()}}}function oO(e){e.updateLayout()}function oj(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:i}=e.layout,{animationType:n}=e.options,s=t.source!==e.layout.source;"size"===n?ag(e=>{let i=s?t.measuredBox[e]:t.layoutBox[e],n=ax(i);i.min=r[e].min,i.max=i.min+n}):oY(n,t.layoutBox,r)&&ag(i=>{let n=s?t.measuredBox[i]:t.layoutBox[i],a=ax(r[i]);n.max=n.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+a)});let a=rU();aS(a,r,t.layoutBox);let o=rU();s?aS(o,e.applyTransform(i,!0),t.measuredBox):aS(o,r,t.layoutBox);let l=!oy(a),u=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:n,layout:s}=i;if(n&&s){let a=rV();aT(a,t.layoutBox,n.layoutBox);let o=rV();aT(o,r,s.layoutBox),ow(a,o)||(u=!0),i.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function oC(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oD(e){e.clearSnapshot()}function oN(e){e.clearMeasurements()}function o$(e){e.isLayoutDirty=!1}function oL(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oU(e){e.resolveTargetDelta()}function oB(e){e.calcProjection()}function oV(e){e.resetSkewAndRotation()}function oF(e){e.removeLeadSnapshot()}function oz(e,t,r){e.translate=nv(t.translate,0,r),e.scale=nv(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function oq(e,t,r,i){e.min=nv(t.min,r.min,i),e.max=nv(t.max,r.max,i)}function oW(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let oK={duration:.45,ease:[.4,0,.1,1]},oH=e=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oG=oH("applewebkit/")&&!oH("chrome/")?Math.round:il;function oJ(e){e.min=oG(e.min),e.max=oG(e.max)}function oY(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(ox(t)-ox(r)))}function oX(e){return e!==e.root&&e.scroll?.wasRoot}let oZ=oP({attachResizeListener:(e,t)=>ab(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),oQ={current:void 0},o0=oP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oQ.current){let e=new oZ({});e.mount(window),e.setOptions({layoutScroll:!0}),oQ.current=e}return oQ.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function o1(e,t){let r=aP(e),i=new AbortController;return[r,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function o2(e,t,r){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===r);let n=i["onHover"+r];n&&id.postRender(()=>n(t,aU(t)))}function o5(e){return aA(e)&&"offsetHeight"in e}let o3=(e,t)=>!!t&&(e===t||o3(e,t.parentElement)),o4=new WeakSet;function o8(e){return t=>{"Enter"===t.key&&e(t)}}function o6(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function o9(e){return aM(e)&&!(aw.x||aw.y)}let o7=new WeakSet;function le(e,t,r){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===r);let n=i["onTap"+("End"===r?"":r)];n&&id.postRender(()=>n(t,aU(t)))}let lt=new WeakMap,lr=new WeakMap,li=e=>{let t=lt.get(e.target);t&&t(e)},ln=e=>{e.forEach(li)},ls={some:0,all:1},la=function(e,t){if("u"<typeof Proxy)return st;let r=new Map,i=(r,i)=>st(r,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(n,s)=>"create"===s?i:(r.has(s)||r.set(s,st(s,void 0,e,t)),r.get(s))})}({animation:{Feature:class extends sr{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>al(e,t,r)));else if("string"==typeof t)i=al(e,t,r);else{let n="function"==typeof t?si(e,t,r.custom):t;i=Promise.all(aa(e,n,r))}return i.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=af(),i=!0,n=t=>(r,i)=>{let n=si(e,i,"exit"===t?e.presenceContext?.custom:void 0);if(n){let{transition:e,transitionEnd:t,...i}=n;r={...r,...i,...t}}return r};function s(s){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<au;e++){let i=i2[e],n=t.props[i];(i0(n)||!1===n)&&(r[i]=n)}return r}(e.parent)||{},l=[],u=new Set,c={},h=1/0;for(let t=0;t<ad;t++){var d,p;let f=ah[t],m=r[f],g=void 0!==a[f]?a[f]:o[f],y=i0(g),v=f===s?m.isActive:null;!1===v&&(h=t);let b=g===o[f]&&g!==a[f]&&y;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),m.protectedKeys={...c},!m.isActive&&null===v||!g&&!m.prevProp||iQ(g)||"boolean"==typeof g)continue;if("exit"===f&&m.isActive&&!0!==v){m.prevResolvedValues&&(c={...c,...m.prevResolvedValues});continue}let w=(d=m.prevProp,"string"==typeof(p=g)?p!==d:!!Array.isArray(p)&&!ac(p,d)),x=w||f===s&&m.isActive&&!b&&y||t>h&&y,k=!1,S=Array.isArray(g)?g:[g],_=S.reduce(n(f),{});!1===v&&(_={});let{prevResolvedValues:E={}}=m,T={...E,..._},A=t=>{x=!0,u.has(t)&&(k=!0,u.delete(t)),m.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in T){let t=_[e],r=E[e];if(!c.hasOwnProperty(e))(sa(t)&&sa(r)?ac(t,r):t===r)?void 0!==t&&u.has(e)?A(e):m.protectedKeys[e]=!0:null!=t?A(e):u.add(e)}m.prevProp=g,m.prevResolvedValues=_,m.isActive&&(c={...c,..._}),i&&e.blockInitialAnimation&&(x=!1);let R=b&&w,P=!R||k;x&&P&&l.push(...S.map(t=>{let r={type:f};if("string"==typeof t&&i&&!R&&e.manuallyAnimateOnMount&&e.parent){let{parent:i}=e,n=si(i,t);if(i.enteringChildren&&n){let{delayChildren:t}=n.transition||{};r.delay=ao(i.enteringChildren,e,t)}}return{animation:t,options:r}}))}if(u.size){let t={};if("boolean"!=typeof a.initial){let r=si(e,Array.isArray(a.initial)?a.initial[0]:a.initial);r&&r.transition&&(t.transition=r.transition)}u.forEach(r=>{let i=e.getBaseTarget(r),n=e.getValue(r);n&&(n.liveStyle=!0),t[r]=i??null}),l.push({animation:t})}let f=!!l.length;return i&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(f=!1),i=!1,f?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,i){if(r[t].isActive===i)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,i)),r[t].isActive=i;let n=s(t);for(let e in r)r[e].protectedKeys={};return n},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=af()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();iQ(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends sr{constructor(){super(...arguments),this.id=am++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:r={}}=this.node.getProps(),{root:i,margin:n,amount:s="some",once:a}=r,o={root:i?i.current:void 0,rootMargin:n,threshold:"number"==typeof s?s:ls[s]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,a&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:i}=this.node.getProps(),n=t?r:i;n&&n(e)};return e=this.node.current,t=function({root:e,...t}){let r=e||document;lr.has(r)||lr.set(r,{});let i=lr.get(r),n=JSON.stringify(t);return i[n]||(i[n]=new IntersectionObserver(ln,{root:e,...t})),i[n]}(o),lt.set(e,l),t.observe(e),()=>{lt.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends sr{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:r}=this.node.props;this.unmount=function(e,t,r={}){let[i,n,s]=o1(e,r),a=e=>{let i=e.currentTarget;if(!o9(e)||o7.has(e))return;o4.add(i),r.stopPropagation&&o7.add(e);let s=t(i,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),o4.has(i)&&o4.delete(i),o9(e)&&"function"==typeof s&&s(e,{success:t})},o=e=>{a(e,i===window||i===document||r.useGlobalTarget||o3(i,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,n),window.addEventListener("pointercancel",l,n)};return i.forEach(e=>{((r.useGlobalTarget?window:e).addEventListener("pointerdown",a,n),o5(e))&&(e.addEventListener("focus",e=>((e,t)=>{let r=e.currentTarget;if(!r)return;let i=o8(()=>{if(o4.has(r))return;o6(r,"down");let e=o8(()=>{o6(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>o6(r,"cancel"),t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)})(e,n)),ay.has(e.tagName)||!0===e.isContentEditable||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}(e,(e,t)=>(le(this.node,t,"Start"),(e,{success:t})=>le(this.node,e,t?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:r?.tap===!1})}unmount(){}}},focus:{Feature:class extends sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=su(ab(this.node.current,"focus",()=>this.onFocus()),ab(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends sr{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[i,n,s]=o1(e,r);return i.forEach(e=>{let r,i=!1,s=!1,a=t=>{r&&(r(t),r=void 0),e.removeEventListener("pointerleave",l)},o=e=>{i=!1,window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",o),s&&(s=!1,a(e))},l=e=>{if("touch"!==e.pointerType){if(i){s=!0;return}a(e)}};e.addEventListener("pointerenter",i=>{if("touch"===i.pointerType||aw.x||aw.y)return;s=!1;let a=t(e,i);"function"==typeof a&&(r=a,e.addEventListener("pointerleave",l,n))},n),e.addEventListener("pointerdown",()=>{i=!0,window.addEventListener("pointerup",o,n),window.addEventListener("pointercancel",o,n)},n)}),s}(e,(e,t)=>(o2(this.node,t,"Start"),e=>o2(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends sr{constructor(){super(...arguments),this.removePointerDownListener=il}onPointerDown(e){this.session=new aq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aV(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:a5(e),onStart:a5(t),onMove:a5(r),onEnd:(e,t)=>{delete this.session,i&&id.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=aB(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends sr{constructor(e){super(e),this.removeGroupControls=il,this.removeListeners=il,this.controls=new a0(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||il}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:o0,MeasureLayout:a7},layout:{ProjectionNode:o0,MeasureLayout:a7}},(e,t)=>t.isSVG??nM(e)?new nS(t):new n$(t,{allowProjection:e!==Y.Fragment}));var lo=Y;function ll(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class lu extends lo.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,r=o5(e)&&e.offsetWidth||0,i=o5(e)&&e.offsetHeight||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left,n.bottom=i-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function lc({children:e,isPresent:t,anchorX:r,anchorY:i,root:n,pop:s}){let a=(0,lo.useId)(),o=(0,lo.useRef)(null),l=(0,lo.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=(0,lo.useContext)(nV),c=function(...e){return Y.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=ll(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():ll(e[t],null)}}}}(...e),e)}(o,e.props?.ref??e?.ref);return(0,lo.useInsertionEffect)(()=>{let{width:e,height:c,top:h,left:d,right:p,bottom:f}=l.current;if(t||!1===s||!o.current||!e||!c)return;let m="left"===r?`left: ${d}`:`right: ${p}`,g="bottom"===i?`bottom: ${f}`:`top: ${h}`;o.current.dataset.motionPopId=a;let y=document.createElement("style");u&&(y.nonce=u);let v=n??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${c}px !important;
            ${m}px !important;
            ${g}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[t]),(0,J.jsx)(lu,{isPresent:t,childRef:o,sizeRef:l,pop:s,children:!1===s?e:lo.cloneElement(e,{ref:c})})}let lh=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:n,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:l,root:u})=>{let c=nZ(ld),h=(0,Y.useId)(),d=!0,p=(0,Y.useMemo)(()=>(d=!1,{id:h,initial:t,isPresent:r,custom:n,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[r,c,i]);return s&&d&&(p={...p}),(0,Y.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),Y.useEffect(()=>{r||c.size||!i||i()},[r]),e=(0,J.jsx)(lc,{pop:"popLayout"===a,isPresent:r,anchorX:o,anchorY:l,root:u,children:e}),(0,J.jsx)(nX.Provider,{value:p,children:e})};function ld(){return new Map}let lp=e=>e.key||"";function lf(e){let t=[];return Y.Children.forEach(e,e=>{(0,Y.isValidElement)(e)&&t.push(e)}),t}let lm=({children:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:n=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:u})=>{let[c,h]=a8(a),d=(0,Y.useMemo)(()=>lf(e),[e]),p=a&&!c?[]:d.map(lp),f=(0,Y.useRef)(!0),m=(0,Y.useRef)(d),g=nZ(()=>new Map),y=(0,Y.useRef)(new Set),[v,b]=(0,Y.useState)(d),[w,x]=(0,Y.useState)(d);se(()=>{f.current=!1,m.current=d;for(let e=0;e<w.length;e++){let t=lp(w[e]);p.includes(t)?(g.delete(t),y.current.delete(t)):!0!==g.get(t)&&g.set(t,!1)}},[w,p.length,p.join("-")]);let k=[];if(d!==v){let e=[...d];for(let t=0;t<w.length;t++){let r=w[t],i=lp(r);p.includes(i)||(e.splice(t,0,r),k.push(r))}return"wait"===s&&k.length&&(e=k),x(lf(e)),b(d),null}let{forceRender:S}=(0,Y.useContext)(nU);return(0,J.jsx)(J.Fragment,{children:w.map(e=>{let v=lp(e),b=(!a||!!c)&&(d===w||p.includes(v));return(0,J.jsx)(lh,{isPresent:b,initial:(!f.current||!!r)&&void 0,custom:t,presenceAffectsLayout:n,mode:s,root:u,onExitComplete:b?void 0:()=>{if(y.current.has(v)||(y.current.add(v),!g.has(v)))return;g.set(v,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(S?.(),x(m.current),a&&h?.(),i&&i())},anchorX:o,anchorY:l,children:e},v)})})},lg=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),ly=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var lv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let lb=(0,Y.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:n="",children:s,iconNode:a,...o},l)=>(0,Y.createElement)("svg",{ref:l,...lv,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:lg("lucide",n),...!s&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(o)&&{"aria-hidden":"true"},...o},[...a.map(([e,t])=>(0,Y.createElement)(e,t)),...Array.isArray(s)?s:[s]])),lw=(e,t)=>{let r=(0,Y.forwardRef)(({className:r,...i},n)=>(0,Y.createElement)(lb,{ref:n,iconNode:t,className:lg(`lucide-${ly(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...i}));return r.displayName=ly(e),r},lx=lw("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),lk=lw("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),lS=lw("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),l_=lw("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),lE=lw("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),lT=lw("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),lA=lw("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),lR=lw("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lP=lw("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),lO=lw("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),lj=lw("git-commit-horizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]),lC=lw("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),lI=lw("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lD=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),lN=[],l$=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let i=e[t],n=r.nextPart.get(i);if(n){let r=l$(e,t+1,n);if(r)return r}let s=r.validators;if(null===s)return;let a=0===t?e.join("-"):e.slice(t).join("-"),o=s.length;for(let e=0;e<o;e++){let t=s[e];if(t.validator(a))return t.classGroupId}},lL=(e,t)=>{let r=lD();for(let i in e)lM(e[i],r,i,t);return r},lM=(e,t,r,i)=>{let n=e.length;for(let s=0;s<n;s++)lU(e[s],t,r,i)},lU=(e,t,r,i)=>{"string"==typeof e?lB(e,t,r):"function"==typeof e?lV(e,t,r,i):lF(e,t,r,i)},lB=(e,t,r)=>{(""===e?t:lz(t,e)).classGroupId=r},lV=(e,t,r,i)=>{lq(e)?lM(e(i),t,r,i):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e}))},lF=(e,t,r,i)=>{let n=Object.entries(e),s=n.length;for(let e=0;e<s;e++){let[s,a]=n[e];lM(a,lz(t,s),r,i)}},lz=(e,t)=>{let r=e,i=t.split("-"),n=i.length;for(let e=0;e<n;e++){let t=i[e],n=r.nextPart.get(t);n||(n=lD(),r.nextPart.set(t,n)),r=n}return r},lq=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,lW=[],lK=(e,t,r,i,n)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:i,isExternal:n}),lH=/\s+/,lG=e=>{let t;if("string"==typeof e)return e;let r="";for(let i=0;i<e.length;i++)e[i]&&(t=lG(e[i]))&&(r&&(r+=" "),r+=t);return r},lJ=[],lY=e=>{let t=t=>t[e]||lJ;return t.isThemeGetter=!0,t},lX=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lZ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lQ=/^\d+\/\d+$/,l0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,l5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,l3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,l4=e=>lQ.test(e),l8=e=>!!e&&!Number.isNaN(Number(e)),l6=e=>!!e&&Number.isInteger(Number(e)),l9=e=>e.endsWith("%")&&l8(e.slice(0,-1)),l7=e=>l0.test(e),ue=()=>!0,ut=e=>l1.test(e)&&!l2.test(e),ur=()=>!1,ui=e=>l5.test(e),un=e=>l3.test(e),us=e=>!uo(e)&&!up(e),ua=e=>uw(e,u_,ur),uo=e=>lX.test(e),ul=e=>uw(e,uE,ut),uu=e=>uw(e,uT,l8),uc=e=>uw(e,uk,ur),uh=e=>uw(e,uS,un),ud=e=>uw(e,uR,ui),up=e=>lZ.test(e),uf=e=>ux(e,uE),um=e=>ux(e,uA),ug=e=>ux(e,uk),uy=e=>ux(e,u_),uv=e=>ux(e,uS),ub=e=>ux(e,uR,!0),uw=(e,t,r)=>{let i=lX.exec(e);return!!i&&(i[1]?t(i[1]):r(i[2]))},ux=(e,t,r=!1)=>{let i=lZ.exec(e);return!!i&&(i[1]?t(i[1]):r)},uk=e=>"position"===e||"percentage"===e,uS=e=>"image"===e||"url"===e,u_=e=>"length"===e||"size"===e||"bg-size"===e,uE=e=>"length"===e,uT=e=>"number"===e,uA=e=>"family-name"===e,uR=e=>"shadow"===e,uP=((e,...t)=>{let r,i,n,s,a=e=>{let t=i(e);if(t)return t;let s=((e,t)=>{let{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:n,sortModifiers:s}=t,a=[],o=e.trim().split(lH),l="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{isExternal:u,modifiers:c,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=r(t);if(u){l=t+(l.length>0?" "+l:l);continue}let f=!!p,m=i(f?d.substring(0,p):d);if(!m){if(!f||!(m=i(d))){l=t+(l.length>0?" "+l:l);continue}f=!1}let g=0===c.length?"":1===c.length?c[0]:s(c).join(":"),y=h?g+"!":g,v=y+m;if(a.indexOf(v)>-1)continue;a.push(v);let b=n(m,f);for(let e=0;e<b.length;++e){let t=b[e];a.push(y+t)}l=t+(l.length>0?" "+l:l)}return l})(e,r);return n(e,s),s};return s=o=>{var l;let u;return i=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),i=Object.create(null),n=(n,s)=>{r[n]=s,++t>e&&(t=0,i=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=i[e])?(n(e,t),t):void 0},set(e,t){e in r?r[e]=t:n(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,i=e=>{let t,r=[],i=0,n=0,s=0,a=e.length;for(let o=0;o<a;o++){let a=e[o];if(0===i&&0===n){if(":"===a){r.push(e.slice(s,o)),s=o+1;continue}if("/"===a){t=o;continue}}"["===a?i++:"]"===a?i--:"("===a?n++:")"===a&&n--}let o=0===r.length?e:e.slice(s),l=o,u=!1;return o.endsWith("!")?(l=o.slice(0,-1),u=!0):o.startsWith("!")&&(l=o.slice(1),u=!0),lK(r,u,l,t&&t>s?t-s:void 0)};if(t){let e=t+":",r=i;i=t=>t.startsWith(e)?r(t.slice(e.length)):lK(lW,!1,t,void 0,!0)}if(r){let e=i;i=t=>r({className:t,parseClassName:e})}return i})(l),sortModifiers:(u=new Map,l.orderSensitiveModifiers.forEach((e,t)=>{u.set(e,1e6+t)}),e=>{let t=[],r=[];for(let i=0;i<e.length;i++){let n=e[i],s="["===n[0],a=u.has(n);s||a?(r.length>0&&(r.sort(),t.push(...r),r=[]),t.push(n)):r.push(n)}return r.length>0&&(r.sort(),t.push(...r)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return lL(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var r;let t,i,n;return -1===(r=e).slice(1,-1).indexOf(":")?void 0:(i=(t=r.slice(1,-1)).indexOf(":"),(n=t.slice(0,i))?"arbitrary.."+n:void 0)}let i=e.split("-"),n=+(""===i[0]&&i.length>1);return l$(i,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=i[e],n=r[e];if(t){if(n){let e=Array(n.length+t.length);for(let t=0;t<n.length;t++)e[t]=n[t];for(let r=0;r<t.length;r++)e[n.length+r]=t[r];return e}return t}return n||lN}return r[e]||lN}}})(l)}).cache.get,n=r.cache.set,s=a,a(o)},(...e)=>s(((...e)=>{let t,r,i=0,n="";for(;i<e.length;)(t=e[i++])&&(r=lG(t))&&(n&&(n+=" "),n+=r);return n})(...e))})(()=>{let e=lY("color"),t=lY("font"),r=lY("text"),i=lY("font-weight"),n=lY("tracking"),s=lY("leading"),a=lY("breakpoint"),o=lY("container"),l=lY("spacing"),u=lY("radius"),c=lY("shadow"),h=lY("inset-shadow"),d=lY("text-shadow"),p=lY("drop-shadow"),f=lY("blur"),m=lY("perspective"),g=lY("aspect"),y=lY("ease"),v=lY("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],x=()=>[...w(),up,uo],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],_=()=>[up,uo,l],E=()=>[l4,"full","auto",..._()],T=()=>[l6,"none","subgrid",up,uo],A=()=>["auto",{span:["full",l6,up,uo]},l6,up,uo],R=()=>[l6,"auto",up,uo],P=()=>["auto","min","max","fr",up,uo],O=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],j=()=>["start","end","center","stretch","center-safe","end-safe"],C=()=>["auto",..._()],I=()=>[l4,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],D=()=>[e,up,uo],N=()=>[...w(),ug,uc,{position:[up,uo]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",uy,ua,{size:[up,uo]}],M=()=>[l9,uf,ul],U=()=>["","none","full",u,up,uo],B=()=>["",l8,uf,ul],V=()=>["solid","dashed","dotted","double"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>[l8,l9,ug,uc],q=()=>["","none",f,up,uo],W=()=>["none",l8,up,uo],K=()=>["none",l8,up,uo],H=()=>[l8,up,uo],G=()=>[l4,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[l7],breakpoint:[l7],color:[ue],container:[l7],"drop-shadow":[l7],ease:["in","out","in-out"],font:[us],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[l7],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[l7],shadow:[l7],spacing:["px",l8],text:[l7],"text-shadow":[l7],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",l4,uo,up,g]}],container:["container"],columns:[{columns:[l8,uo,up,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[l6,"auto",up,uo]}],basis:[{basis:[l4,"full","auto",o,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[l8,l4,"auto","initial","none",uo]}],grow:[{grow:["",l8,up,uo]}],shrink:[{shrink:["",l8,up,uo]}],order:[{order:[l6,"first","last","none",up,uo]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...O(),"normal"]}],"justify-items":[{"justify-items":[...j(),"normal"]}],"justify-self":[{"justify-self":["auto",...j()]}],"align-content":[{content:["normal",...O()]}],"align-items":[{items:[...j(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...j(),{baseline:["","last"]}]}],"place-content":[{"place-content":O()}],"place-items":[{"place-items":[...j(),"baseline"]}],"place-self":[{"place-self":["auto",...j()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[o,"screen",...I()]}],"min-w":[{"min-w":[o,"screen","none",...I()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",r,uf,ul]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,up,uu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",l9,uo]}],"font-family":[{font:[um,uo,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,up,uo]}],"line-clamp":[{"line-clamp":[l8,"none",up,uu]}],leading:[{leading:[s,..._()]}],"list-image":[{"list-image":["none",up,uo]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",up,uo]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[l8,"from-font","auto",up,ul]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[l8,"auto",up,uo]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",up,uo]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",up,uo]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:N()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},l6,up,uo],radial:["",up,uo],conic:[l6,up,uo]},uv,uh]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[l8,up,uo]}],"outline-w":[{outline:["",l8,uf,ul]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",c,ub,ud]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",h,ub,ud]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[l8,ul]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",d,ub,ud]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[l8,up,uo]}],"mix-blend":[{"mix-blend":[...F(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":F()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[l8]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[up,uo]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[l8]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:N()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",up,uo]}],filter:[{filter:["","none",up,uo]}],blur:[{blur:q()}],brightness:[{brightness:[l8,up,uo]}],contrast:[{contrast:[l8,up,uo]}],"drop-shadow":[{"drop-shadow":["","none",p,ub,ud]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",l8,up,uo]}],"hue-rotate":[{"hue-rotate":[l8,up,uo]}],invert:[{invert:["",l8,up,uo]}],saturate:[{saturate:[l8,up,uo]}],sepia:[{sepia:["",l8,up,uo]}],"backdrop-filter":[{"backdrop-filter":["","none",up,uo]}],"backdrop-blur":[{"backdrop-blur":q()}],"backdrop-brightness":[{"backdrop-brightness":[l8,up,uo]}],"backdrop-contrast":[{"backdrop-contrast":[l8,up,uo]}],"backdrop-grayscale":[{"backdrop-grayscale":["",l8,up,uo]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l8,up,uo]}],"backdrop-invert":[{"backdrop-invert":["",l8,up,uo]}],"backdrop-opacity":[{"backdrop-opacity":[l8,up,uo]}],"backdrop-saturate":[{"backdrop-saturate":[l8,up,uo]}],"backdrop-sepia":[{"backdrop-sepia":["",l8,up,uo]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",up,uo]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[l8,"initial",up,uo]}],ease:[{ease:["linear","initial",y,up,uo]}],delay:[{delay:[l8,up,uo]}],animate:[{animate:["none",v,up,uo]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,up,uo]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[up,uo,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",up,uo]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",up,uo]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[l8,uf,ul,uu]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function uO(...e){return uP(function(){for(var e,t,r=0,i="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,i,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(i=e(t[r]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}(e))&&(i&&(i+=" "),i+=t);return i}(e))}class uj extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class uC extends uj{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uI extends uj{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uD extends uj{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(v=M||(M={})).Any="any",v.ApNortheast1="ap-northeast-1",v.ApNortheast2="ap-northeast-2",v.ApSouth1="ap-south-1",v.ApSoutheast1="ap-southeast-1",v.ApSoutheast2="ap-southeast-2",v.CaCentral1="ca-central-1",v.EuCentral1="eu-central-1",v.EuWest1="eu-west-1",v.EuWest2="eu-west-2",v.EuWest3="eu-west-3",v.SaEast1="sa-east-1",v.UsEast1="us-east-1",v.UsWest1="us-west-1",v.UsWest2="us-west-2";function uN(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}"function"==typeof SuppressedError&&SuppressedError;class u${constructor(e,{headers:t={},customFetch:r,region:i=M.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){var t,r,i,n;return t=this,r=arguments,i=void 0,n=function*(e,t={}){var r;let i,n;try{let s,{headers:a,method:o,body:l,signal:u,timeout:c}=t,h={},{region:d}=t;d||(d=this.region);let p=new URL(`${this.url}/${e}`);d&&"any"!==d&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d)),l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?"u">typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",s=l):"string"==typeof l?(h["Content-Type"]="text/plain",s=l):"u">typeof FormData&&l instanceof FormData?s=l:(h["Content-Type"]="application/json",s=JSON.stringify(l)):s=!l||"string"==typeof l||"u">typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"u">typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let f=u;c&&(n=new AbortController,i=setTimeout(()=>n.abort(),c),u?(f=n.signal,u.addEventListener("abort",()=>n.abort())):f=n.signal);let m=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:s,signal:f}).catch(e=>{throw new uC(e)}),g=m.headers.get("x-relay-error");if(g&&"true"===g)throw new uI(m);if(!m.ok)throw new uD(m);let y=(null!=(r=m.headers.get("Content-Type"))?r:"text/plain").split(";")[0].trim();return{data:"application/json"===y?yield m.json():"application/octet-stream"===y||"application/pdf"===y?yield m.blob():"text/event-stream"===y?m:"multipart/form-data"===y?yield m.formData():yield m.text(),error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof uD||e instanceof uI?e.context:void 0}}finally{i&&clearTimeout(i)}},new(i||(i=Promise))(function(e,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(a,o)}l((n=n.apply(t,r||[])).next())})}}var uL=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},uM=class{constructor(e){var t,r,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!=(t=e.shouldThrowOnError)&&t,this.signal=e.signal,this.isMaybeSingle=null!=(r=e.isMaybeSingle)&&r,this.urlLengthLimit=null!=(i=e.urlLengthLimit)?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let i=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,i,n,s;let a=null,o=null,l=null,u=e.status,c=e.statusText;if(e.ok){if("HEAD"!==r.method){let t=await e.text();""===t||(o="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null==(n=r.headers.get("Accept"))?void 0:n.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}let s=null==(t=r.headers.get("Prefer"))?void 0:t.match(/count=(exact|planned|estimated)/),h=null==(i=e.headers.get("content-range"))?void 0:i.split("/");s&&h&&h.length>1&&(l=parseInt(h[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,u=200,c="OK")}catch(r){404===e.status&&""===t?(u=204,c="No Content"):a={message:t}}if(a&&r.isMaybeSingle&&(null==a||null==(s=a.details)?void 0:s.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&r.shouldThrowOnError)throw new uL(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(e=>{var t,r,i,n,s,a;let o="",l="",u="",c=null==e?void 0:e.cause;if(c){let t=null!=(r=null==c?void 0:c.message)?r:"",a=null!=(i=null==c?void 0:c.code)?i:"";o=`${null!=(n=null==e?void 0:e.name)?n:"FetchError"}: ${null==e?void 0:e.message}

Caused by: ${null!=(s=null==c?void 0:c.name)?s:"Error"}: ${t}`,a&&(o+=` (${a})`),(null==c?void 0:c.stack)&&(o+=`
${c.stack}`)}else o=null!=(a=null==e?void 0:e.stack)?a:"";let h=this.url.toString().length;return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",h>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${h} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((null==c?void 0:c.name)==="HeadersOverflowError"||(null==c?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",h>this.urlLengthLimit&&(l+=`. Your request URL is ${h} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${null!=(t=null==e?void 0:e.name)?t:"FetchError"}: ${null==e?void 0:e.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},uU=class extends uM{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){let s=n?`${n}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let n=void 0===i?"offset":`${i}.offset`,s=void 0===i?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:s="text"}={}){var a;let o=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!=(a=this.headers.get("Accept"))?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};let uB=RegExp("[,()]");var uV=class extends uU{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&uB.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&uB.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let n="";"plain"===i?n="pl":"phrase"===i?n="ph":"websearch"===i&&(n="w");let s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},uF=class{constructor(e,{headers:t={},schema:r,fetch:i,urlLengthLimit:n=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i,this.urlLengthLimit=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:r=!1,count:i}=null!=t?t:{},n=!1,s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e)).join(""),{url:a,headers:o}=this.cloneRequestState();return a.searchParams.set("select",s),i&&o.append("Prefer",`count=${i}`),new uV({method:r?"HEAD":"GET",url:a,headers:o,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;let{url:n,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);n.searchParams.set("columns",e.join(","))}}return new uV({method:"POST",url:n,headers:s,schema:this.schema,body:e,fetch:null!=(i=this.fetch)?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){var s;let{url:a,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&a.searchParams.set("on_conflict",t),i&&o.append("Prefer",`count=${i}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);a.searchParams.set("columns",e.join(","))}}return new uV({method:"POST",url:a,headers:o,schema:this.schema,body:e,fetch:null!=(s=this.fetch)?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;let{url:i,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new uV({method:"PATCH",url:i,headers:n,schema:this.schema,body:e,fetch:null!=(r=this.fetch)?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;let{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new uV({method:"DELETE",url:r,headers:i,schema:this.schema,fetch:null!=(t=this.fetch)?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function uz(e){return(uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function uW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uq(Object(r),!0).forEach(function(t){!function(e,t,r){var i;(i=function(e,t){if("object"!=uz(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=uz(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uz(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var uK=class e{constructor(e,{headers:t={},schema:r,fetch:i,timeout:n,urlLengthLimit:s=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.urlLengthLimit=s;const a=null!=i?i:globalThis.fetch;void 0!==n&&n>0?this.fetch=(e,t)=>{let r=new AbortController,i=setTimeout(()=>r.abort(),n),s=null==t?void 0:t.signal;if(s){if(s.aborted)return clearTimeout(i),a(e,t);let n=()=>{clearTimeout(i),r.abort()};return s.addEventListener("abort",n,{once:!0}),a(e,uW(uW({},t),{},{signal:r.signal})).finally(()=>{clearTimeout(i),s.removeEventListener("abort",n)})}return a(e,uW(uW({},t),{},{signal:r.signal})).finally(()=>clearTimeout(i))}:this.fetch=a}from(e){if(!e||"string"!=typeof e||""===e.trim())throw Error("Invalid relation name: relation must be a non-empty string.");return new uF(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:r=!1,get:i=!1,count:n}={}){var s;let a,o,l=new URL(`${this.url}/rpc/${e}`),u=e=>null!==e&&"object"==typeof e&&(!Array.isArray(e)||e.some(u)),c=r&&Object.values(t).some(u);c?(a="POST",o=t):r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(a="POST",o=t);let h=new Headers(this.headers);return c?h.set("Prefer",n?`count=${n},return=minimal`:"return=minimal"):n&&h.set("Prefer",`count=${n}`),new uV({method:a,url:l,headers:h,schema:this.schemaName,body:o,fetch:null!=(s=this.fetch)?s:fetch,urlLengthLimit:this.urlLengthLimit})}};let uH=class{static detectEnvironment(){var t;if("u">typeof WebSocket)return{type:"native",constructor:WebSocket};if("u">typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==e.g.WebSocket)return{type:"native",constructor:e.g.WebSocket};if("u">typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("u">typeof globalThis&&globalThis.EdgeRuntime||"u">typeof navigator&&(null==(t=navigator.userAgent)?void 0:t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let r=globalThis.process;if(r){let e=r.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},uG="2.0.0";(b=U||(U={}))[b.connecting=0]="connecting",b[b.open=1]="open",b[b.closing=2]="closing",b[b.closed=3]="closed",(w=B||(B={})).closed="closed",w.errored="errored",w.joined="joined",w.joining="joining",w.leaving="leaving",(x=V||(V={})).close="phx_close",x.error="phx_error",x.join="phx_join",x.reply="phx_reply",x.leave="phx_leave",x.access_token="access_token",(F||(F={})).websocket="websocket",(k=z||(z={})).Connecting="connecting",k.Open="open",k.Closing="closing",k.Closed="closed";class uJ{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){return e.event!==this.BROADCAST_EVENT||e.payload instanceof ArrayBuffer||"string"!=typeof e.payload.event?t(JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload])):t(this._binaryEncodeUserBroadcastPush(e))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null==(t=e.payload)?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;let i=null!=(r=null==(t=e.payload)?void 0:t.payload)?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;let i=null!=(r=null==(t=e.payload)?void 0:t.payload)?r:{},n=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,n)}_encodeUserBroadcastPush(e,t,r){let i=e.topic,n=null!=(p=e.ref)?p:"",s=null!=(f=e.join_ref)?f:"",a=e.payload.event,o=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},l=0===Object.keys(o).length?"":JSON.stringify(o);if(s.length>255)throw Error(`joinRef length ${s.length} exceeds maximum of 255`);if(n.length>255)throw Error(`ref length ${n.length} exceeds maximum of 255`);if(i.length>255)throw Error(`topic length ${i.length} exceeds maximum of 255`);if(a.length>255)throw Error(`userEvent length ${a.length} exceeds maximum of 255`);if(l.length>255)throw Error(`metadata length ${l.length} exceeds maximum of 255`);let u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+n.length+i.length+a.length+l.length,c=new ArrayBuffer(this.HEADER_LENGTH+u),h=new DataView(c),d=0;h.setUint8(d++,this.KINDS.userBroadcastPush),h.setUint8(d++,s.length),h.setUint8(d++,n.length),h.setUint8(d++,i.length),h.setUint8(d++,a.length),h.setUint8(d++,l.length),h.setUint8(d++,t),Array.from(s,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(n,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(i,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(a,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(l,e=>h.setUint8(d++,e.charCodeAt(0)));var p,f,m=new Uint8Array(c.byteLength+r.byteLength);return m.set(new Uint8Array(c),0),m.set(new Uint8Array(r),c.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if("string"==typeof e){let[r,i,n,s,a]=JSON.parse(e);return t({join_ref:r,ref:i,topic:n,event:s,payload:a})}return t({})}_binaryDecode(e){let t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,i)}_decodeUserBroadcast(e,t,r){let i=t.getUint8(1),n=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),o=this.HEADER_LENGTH+4,l=r.decode(e.slice(o,o+i));o+=i;let u=r.decode(e.slice(o,o+n));o+=n;let c=r.decode(e.slice(o,o+s));o+=s;let h=e.slice(o,e.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:d};return s>0&&(p.meta=JSON.parse(c)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||(null==(t=null==e?void 0:e.constructor)?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class uY{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(S=q||(q={})).abstime="abstime",S.bool="bool",S.date="date",S.daterange="daterange",S.float4="float4",S.float8="float8",S.int2="int2",S.int4="int4",S.int4range="int4range",S.int8="int8",S.int8range="int8range",S.json="json",S.jsonb="jsonb",S.money="money",S.numeric="numeric",S.oid="oid",S.reltime="reltime",S.text="text",S.time="time",S.timestamp="timestamp",S.timestamptz="timestamptz",S.timetz="timetz",S.tsrange="tsrange",S.tstzrange="tstzrange";let uX=(e,t,r={})=>{var i;let n=null!=(i=r.skipTypes)?i:[];return t?Object.keys(t).reduce((r,i)=>(r[i]=uZ(i,e,t,n),r),{}):{}},uZ=(e,t,r,i)=>{let n=t.find(t=>t.name===e),s=null==n?void 0:n.type,a=r[e];return s&&!i.includes(s)?uQ(s,a):u0(a)},uQ=(e,t)=>{if("_"===e.charAt(0))return u3(t,e.slice(1,e.length));switch(e){case q.bool:return u1(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return u2(t);case q.json:case q.jsonb:return u5(t);case q.timestamp:return u4(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:default:return u0(t)}},u0=e=>e,u1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},u2=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},u5=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e},u3=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,i=e[r];if("{"===e[0]&&"}"===i){let i,n=e.slice(1,r);try{i=JSON.parse("["+n+"]")}catch(e){i=n?n.split(","):[]}return i.map(e=>uQ(t,e))}return e},u4=e=>"string"==typeof e?e.replace(" ","T"):e,u8=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class u6{constructor(e,t,r={},i=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null==(r=this.receivedResp)?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(_=W||(W={})).SYNC="sync",_.JOIN="join",_.LEAVE="leave";class u9{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=u9.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=u9.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=u9.syncDiff(this.state,e,t,r),i())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let n=this.cloneDeep(e),s=this.transformState(t),a={},o={};return this.map(n,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{let r=n[e];if(r){let i=t.map(e=>e.presence_ref),n=r.map(e=>e.presence_ref),s=t.filter(e=>0>n.indexOf(e.presence_ref)),l=r.filter(e=>0>i.indexOf(e.presence_ref));s.length>0&&(a[e]=s),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(n,{joins:a,leaves:o},r,i)}static syncDiff(e,t,r,i){let{joins:n,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(t,i)=>{var n;let s=null!=(n=e[t])?n:[];if(e[t]=this.cloneDeep(i),s.length>0){let r=e[t].map(e=>e.presence_ref),i=s.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...i)}r(t,s,i)}),this.map(s,(t,r)=>{let n=e[t];if(!n)return;let s=r.map(e=>e.presence_ref);n=n.filter(e=>0>s.indexOf(e.presence_ref)),e[t]=n,i(t,n,r),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(E=K||(K={})).ALL="*",E.INSERT="INSERT",E.UPDATE="UPDATE",E.DELETE="DELETE",(T=H||(H={})).BROADCAST="broadcast",T.PRESENCE="presence",T.POSTGRES_CHANGES="postgres_changes",T.SYSTEM="system",(A=G||(G={})).SUBSCRIBED="SUBSCRIBED",A.TIMED_OUT="TIMED_OUT",A.CLOSED="CLOSED",A.CHANNEL_ERROR="CHANNEL_ERROR";class u7{constructor(e,t={config:{}},r){var i,n;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=B.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new u6(this,V.join,this.params,this.timeout),this.rejoinTimer=new uY(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=B.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=B.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this._on(V.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new u9(this),this.broadcastEndpointURL=u8(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(n=null==(i=this.params.config)?void 0:i.broadcast)?void 0:n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,n;if(this.socket.isConnected()||this.socket.connect(),this.state==B.closed){let{config:{broadcast:s,presence:a,private:o}}=this.params,l=null!=(i=null==(r=this.bindings.postgres_changes)?void 0:r.map(e=>e.filter))?i:[],u=!!this.bindings[H.PRESENCE]&&this.bindings[H.PRESENCE].length>0||(null==(n=this.params.config.presence)?void 0:n.enabled)===!0,c={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(G.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(G.CLOSED)),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0===t){null==e||e(G.SUBSCRIBED);return}{let i=this.bindings.postgres_changes,n=null!=(r=null==i?void 0:i.length)?r:0,s=[];for(let r=0;r<n;r++){let n=i[r],{filter:{event:a,schema:o,table:l,filter:u}}=n,c=t&&t[r];if(c&&c.event===a&&u7.isFilterValueEqual(c.schema,o)&&u7.isFilterValueEqual(c.table,l)&&u7.isFilterValueEqual(c.filter,u))s.push(Object.assign(Object.assign({},n),{id:c.id}));else{this.unsubscribe(),this.state=B.errored,null==e||e(G.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,e&&e(G.SUBSCRIBED);return}}).receive("error",t=>{this.state=B.errored,null==e||e(G.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(G.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===B.joined&&e===H.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;if(null==t)return Promise.reject("Payload is required for httpSend()");let n={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(n.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:n,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!=(i=r.timeout)?i:this.timeout);if(202===a.status)return{success:!0};let o=a.statusText;try{let e=await a.json();o=e.error||e.message||o}catch(e){}return Promise.reject(Error(o))}async send(e,t={}){var r,i;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var i,n,s;let a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null==(s=null==(n=null==(i=this.params)?void 0:i.config)?void 0:n.broadcast)?void 0:s.ack)||r("ok"),a.receive("ok",()=>r("ok")),a.receive("error",()=>r("error")),a.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:n,payload:s}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!=(r=t.timeout)?r:this.timeout);return await (null==(i=e.body)?void 0:i.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=B.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(V.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{(r=new u6(this,V.leave,{},e)).receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=B.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){let i=new AbortController,n=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(n),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new u6(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,n;let s=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:u}=V;if(r&&[a,o,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let c=this._onMessage(s,t,r);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null==(i=this.bindings.postgres_changes)||i.filter(e=>{var t,r,i;return(null==(t=e.filter)?void 0:t.event)==="*"||(null==(i=null==(r=e.filter)?void 0:r.event)?void 0:i.toLocaleLowerCase())===s}).map(e=>e.callback(c,r)):null==(n=this.bindings[s])||n.filter(e=>{var r,i,n,a,o,l;if(!["broadcast","presence","postgres_changes"].includes(s))return e.type.toLocaleLowerCase()===s;if("id"in e){let s=e.id,a=null==(r=e.filter)?void 0:r.event;return s&&(null==(i=t.ids)?void 0:i.includes(s))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null==(n=t.data)?void 0:n.type.toLocaleLowerCase()))}{let r=null==(o=null==(a=null==e?void 0:e.filter)?void 0:a.event)?void 0:o.toLocaleLowerCase();return"*"===r||r===(null==(l=null==t?void 0:t.event)?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof c&&"ids"in c){let e=c.data,{schema:t,table:r,commit_timestamp:i,type:n,errors:s}=e;c=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:i,eventType:n,new:{},old:{},errors:s}),this._getPayloadRecords(e))}e.callback(c,r)})}_isClosed(){return this.state===B.closed}_isJoined(){return this.state===B.joined}_isJoining(){return this.state===B.joining}_isLeaving(){return this.state===B.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),n={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var i;return!((null==(i=e.type)?void 0:i.toLocaleLowerCase())===r&&u7.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(V.close,{},e)}_onError(e){this._on(V.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=B.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=uX(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=uX(e.columns,e.old_record)),t}}let ce=()=>{},ct=[1e3,2e3,5e3,1e4],cr=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ci{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ce,this.ref=0,this.reconnectTimer=null,this.vsn=uG,this.logger=ce,this.conn=null,this.sendBuffer=[],this.serializer=new uJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null==(r=null==t?void 0:t.params)?void 0:r.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${F.websocket}`,this.httpEndpoint=u8(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return"ok"===t&&this._remove(e),0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case U.connecting:return z.Connecting;case U.open:return z.Open;case U.closing:return z.Closing;default:return z.Closed}}isConnected(){return this.connectionState()===z.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(e=>e.topic===r);if(i)return i;{let r=new u7(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){let{topic:t,event:r,payload:i,ref:n}=e,s=()=>{this.encode(e,e=>{var t;null==(t=this.conn)||t.send(e)})};this.log("push",`${t} ${r} (${n})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null==(e=this.conn)||e.close(1e3,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null==(e=this.reconnectTimer)||e.scheduleTimeout()},100);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){let t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(e){this.log("error","error in heartbeat callback",e)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:t,event:r,payload:i,ref:n}=e,s=n?`(${n})`:"",a=i.status||"";this.log("receive",`${a} ${t} ${r} ${s}`.trim(),i),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,i,n)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null==(t=this.reconnectTimer)||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===U.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===U.open||this.conn.readyState===U.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(t=this.reconnectTimer)||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(e){this.log("error","error in heartbeat callback",e)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(V.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([cr],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log("error","Error fetching access token from callback",e),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let r={access_token:t,version:"realtime-js/2.95.3"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(V.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new uY(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},10)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,n,s,a,o,l,u,c,h,d;switch(this.transport=null!=(t=null==e?void 0:e.transport)?t:null,this.timeout=null!=(r=null==e?void 0:e.timeout)?r:1e4,this.heartbeatIntervalMs=null!=(i=null==e?void 0:e.heartbeatIntervalMs)?i:25e3,this.worker=null!=(n=null==e?void 0:e.worker)&&n,this.accessToken=null!=(s=null==e?void 0:e.accessToken)?s:null,this.heartbeatCallback=null!=(a=null==e?void 0:e.heartbeatCallback)?a:ce,this.vsn=null!=(o=null==e?void 0:e.vsn)?o:uG,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(l=null==e?void 0:e.reconnectAfterMs)?l:e=>ct[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!=(u=null==e?void 0:e.encode)?u:(e,t)=>t(JSON.stringify(e)),this.decode=null!=(c=null==e?void 0:e.decode)?c:(e,t)=>t(JSON.parse(e));break;case uG:this.encode=null!=(h=null==e?void 0:e.encode)?h:this.serializer.encode.bind(this.serializer),this.decode=null!=(d=null==e?void 0:e.decode)?d:this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("u">typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var cn=e.i(84143),cs=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};async function ca(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}function co(e){return e.join("\x1f")}var cl=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:co(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(e.namespace)}`}),!0}catch(e){if(e instanceof cs&&404===e.status)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof cs&&409===e.status)return;throw e}}};function cu(e){return e.join("\x1f")}var cc=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){let r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof cs&&404===e.status)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof cs&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ch=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=function(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:n,body:s,headers:a}){let o=function(e,t,r){let i=new URL(t,e);if(r)for(let[e,t]of Object.entries(r))void 0!==t&&i.searchParams.set(e,t);return i.toString()}(e.baseUrl,i,n),l=await ca(e.auth),u=await t(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){let e=h?d:void 0,t=e?.error;throw new cs(t?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:u.status,headers:u.headers,data:d}}}}({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new cl(this.client,t),this.tableOps=new cc(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},cd=class extends Error{constructor(e,t="storage",r,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function cp(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var cf=class extends cd{constructor(e,t,r,i="storage"){super(e,i,t,r),this.name="vectors"===i?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cm=class extends cd{constructor(e,t,r="storage"){super(e,r),this.name="vectors"===r?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};let cg=e=>{if(Array.isArray(e))return e.map(e=>cg(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,r])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=cg(r)}),t};function cy(e){return(cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cv(Object(r),!0).forEach(function(t){!function(e,t,r){var i;(i=function(e,t){if("object"!=cy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=cy(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cy(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let cw=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null==(t=e.error)?void 0:t.message)||JSON.stringify(e)},cx=async(e,t,r,i)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==r?void 0:r.noResolveJson)){let r=e.status||500;"function"==typeof e.json?e.json().then(e=>{let n=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||r+"";t(new cf(cw(e),r,n,i))}).catch(()=>{t(new cf(e.statusText||`HTTP ${r} error`,r,r+"",i))}):t(new cf(e.statusText||`HTTP ${r} error`,r,r+"",i))}else t(new cm(cw(e),e,i))};async function ck(e,t,r,i,n,s,a){return new Promise((o,l)=>{let u;e(r,(u={method:t,headers:(null==i?void 0:i.headers)||{}},"GET"===t||"HEAD"===t||!s||((e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(s)?(u.headers=cb({"Content-Type":"application/json"},null==i?void 0:i.headers),u.body=JSON.stringify(s)):u.body=s,(null==i?void 0:i.duplex)&&(u.duplex=i.duplex)),cb(cb({},u),n))).then(e=>{if(!e.ok)throw e;if(null==i?void 0:i.noResolveJson)return e;if("vectors"===a){let t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status||!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>o(e)).catch(e=>cx(e,l,i,a))})}function cS(e="storage"){return{get:async(t,r,i,n)=>ck(t,"GET",r,i,n,void 0,e),post:async(t,r,i,n,s)=>ck(t,"POST",r,n,s,i,e),put:async(t,r,i,n,s)=>ck(t,"PUT",r,n,s,i,e),head:async(t,r,i,n)=>ck(t,"HEAD",r,cb(cb({},i),{},{noResolveJson:!0}),n,void 0,e),remove:async(t,r,i,n,s)=>ck(t,"DELETE",r,n,s,i,e)}}let{get:c_,post:cE,put:cT,head:cA,remove:cR}=cS("storage"),cP=cS("vectors");var cO=class{constructor(e,t={},r,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){try{return{data:await e(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cp(e))return{data:null,error:e};throw e}}},cj=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cp(e))return{data:null,error:e};throw e}}};n=Symbol.toStringTag;var cC=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[n]="BlobDownloadBuilder",this.promise=null}asStream(){return new cj(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await (await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cp(e))return{data:null,error:e};throw e}}};let cI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cN=class extends cO{constructor(e,t={},r,i){super(e,t,i,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,i){var n=this;return n.handleOperation(async()=>{let s,a=cb(cb({},cD),i),o=cb(cb({},n.headers),"POST"===e&&{"x-upsert":String(a.upsert)}),l=a.metadata;"u">typeof Blob&&r instanceof Blob?((s=new FormData).append("cacheControl",a.cacheControl),l&&s.append("metadata",n.encodeMetadata(l)),s.append("",r)):"u">typeof FormData&&r instanceof FormData?((s=r).has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",n.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=n.toBase64(n.encodeMetadata(l))),("u">typeof ReadableStream&&s instanceof ReadableStream||s&&"object"==typeof s&&"pipe"in s&&"function"==typeof s.pipe)&&!a.duplex&&(a.duplex="half")),(null==i?void 0:i.headers)&&(o=cb(cb({},o),i.headers));let u=n._removeEmptyFolders(t),c=n._getFinalPath(u),h=await ("PUT"==e?cT:cE)(n.fetch,`${n.url}/object/${c}`,s,cb({headers:o},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,i){var n=this;let s=n._removeEmptyFolders(e),a=n._getFinalPath(s),o=new URL(n.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),n.handleOperation(async()=>{let e,t=cb({upsert:cD.upsert},i),a=cb(cb({},n.headers),{"x-upsert":String(t.upsert)});return"u">typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"u">typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType),{path:s,fullPath:(await cT(n.fetch,o.toString(),e,{headers:a})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),n=cb({},r.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");let s=await cE(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:n}),a=new URL(r.url+s.url),o=a.searchParams.get("token");if(!o)throw new cd("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var i=this;return i.handleOperation(async()=>await cE(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:i.headers}))}async copy(e,t,r){var i=this;return i.handleOperation(async()=>({path:(await cE(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,r){var i=this;return i.handleOperation(async()=>{let n=i._getFinalPath(e),s=await cE(i.fetch,`${i.url}/object/sign/${n}`,cb({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:i.headers}),a=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${s.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var i=this;return i.handleOperation(async()=>{let n=await cE(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return n.map(e=>cb(cb({},e),{},{signedUrl:e.signedURL?encodeURI(`${i.url}${e.signedURL}${s}`):null}))})}download(e,t,r){let i=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e);return new cC(()=>c_(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0},r),this.shouldThrowOnError)}async info(e){var t=this;let r=t._getFinalPath(e);return t.handleOperation(async()=>cg(await c_(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){let t=this._getFinalPath(e);try{return await cA(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cp(e)&&e instanceof cm){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],n=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==n&&i.push(n);let s=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&i.push(a);let o=i.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await cR(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var i=this;return i.handleOperation(async()=>{let n=cb(cb(cb({},cI),t),{},{prefix:e||""});return await cE(i.fetch,`${i.url}/object/list/${i.bucketId}`,n,{headers:i.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{let i=cb({},e);return await cE(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return void 0!==cn.Buffer?cn.Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};let c$={"X-Client-Info":"storage-js/2.95.3"};var cL=class extends cO{constructor(e,t={},r,i){const n=new URL(e);(null==i?void 0:i.useNewHostname)&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),super(n.href.replace(/\/$/,""),cb(cb({},c$),t),r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let r=t.listBucketOptionsToQueryString(e);return await c_(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await c_(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await cE(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await cT(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await cE(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cR(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},cM=class extends cO{constructor(e,t={},r){super(e.replace(/\/$/,""),cb(cb({},c$),t),r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await cE(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let r=new URLSearchParams;(null==e?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(null==e?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&r.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&r.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&r.set("search",e.search);let i=r.toString(),n=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await c_(t.fetch,n,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cR(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!(!(!e||"string"!=typeof e||0===e.length||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\"))&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)))throw new cd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let r=new ch({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(e,t){let r=e[t];return"function"!=typeof r?r:async(...t)=>{try{return{data:await r.apply(e,t),error:null}}catch(e){if(i)throw e;return{data:null,error:e}}}}})}},cU=class extends cO{constructor(e,t={},r){super(e.replace(/\/$/,""),cb(cb({},c$),{},{"Content-Type":"application/json"},t),r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await cP.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await cP.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},cB=class extends cO{constructor(e,t={},r){super(e.replace(/\/$/,""),cb(cb({},c$),{},{"Content-Type":"application/json"},t),r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},cV=class extends cO{constructor(e,t={},r){super(e.replace(/\/$/,""),cb(cb({},c$),{},{"Content-Type":"application/json"},t),r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cP.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},cF=class extends cV{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cz(this.url,this.headers,e,this.fetch)}async createBucket(e){return super.createBucket.call(this,e)}async getBucket(e){return super.getBucket.call(this,e)}async listBuckets(e={}){return super.listBuckets.call(this,e)}async deleteBucket(e){return super.deleteBucket.call(this,e)}},cz=class extends cU{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}async createIndex(e){return super.createIndex.call(this,cb(cb({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return super.listIndexes.call(this,cb(cb({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return super.getIndex.call(this,this.vectorBucketName,e)}async deleteIndex(e){return super.deleteIndex.call(this,this.vectorBucketName,e)}index(e){return new cq(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},cq=class extends cB{constructor(e,t,r,i,n){super(e,t,n),this.vectorBucketName=r,this.indexName=i}async putVectors(e){return super.putVectors.call(this,cb(cb({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async getVectors(e){return super.getVectors.call(this,cb(cb({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async listVectors(e={}){return super.listVectors.call(this,cb(cb({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async queryVectors(e){return super.queryVectors.call(this,cb(cb({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async deleteVectors(e){return super.deleteVectors.call(this,cb(cb({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}},cW=class extends cL{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new cN(this.url,this.headers,e,this.fetch)}get vectors(){return new cF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cM(this.url+"/iceberg",this.headers,this.fetch)}};let cK="2.95.3",cH={"X-Client-Info":`gotrue-js/${cK}`},cG="X-Supabase-Api-Version",cJ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class cX extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function cZ(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class cQ extends cX{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class c0 extends cX{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class c1 extends cX{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class c2 extends c1{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c5(e){return cZ(e)&&"AuthSessionMissingError"===e.name}class c3 extends c1{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class c4 extends c1{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class c8 extends c1{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c6 extends c1{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c9 extends c1{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class c7 extends c1{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function he(e){return cZ(e)&&"AuthRetryableFetchError"===e.name}class ht extends c1{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class hr extends c1{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hn=" 	\n\r=".split(""),hs=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hn.length;t+=1)e[hn[t].charCodeAt(0)]=-2;for(let t=0;t<hi.length;t+=1)e[hi[t].charCodeAt(0)]=t;return e})();function ha(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)r(hi[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)r(hi[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function ho(e,t,r){let i=hs[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===i)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function hl(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return r(e);for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,i,r)};for(let t=0;t<e.length;t+=1)ho(e.charCodeAt(t),n,s);return t.join("")}function hu(e){let t=[],r={queue:0,queuedBits:0},i=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)ho(e.charCodeAt(t),r,i);return new Uint8Array(t)}function hc(e){let t=[],r={queue:0,queuedBits:0},i=e=>{t.push(e)};return e.forEach(e=>ha(e,r,i)),ha(null,r,i),t.join("")}let hh=()=>"u">typeof window&&"u">typeof document,hd={tested:!1,writable:!1},hp=()=>{if(!hh())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(hd.tested)return hd.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hd.tested=!0,hd.writable=!0}catch(e){hd.tested=!0,hd.writable=!1}return hd.writable},hf=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),hm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hg=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},hy=async(e,t)=>{await e.removeItem(t)};class hv{constructor(){this.promise=new hv.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function hb(e){let t=e.split(".");if(3!==t.length)throw new hr("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!cY.test(t[e]))throw new hr("JWT not in base64url format");return{header:JSON.parse(hl(t[0])),payload:JSON.parse(hl(t[1])),signature:hu(t[2]),raw:{header:t[0],payload:t[1]}}}async function hw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hx(e){return("0"+e.toString(16)).substr(-2)}async function hk(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function hS(e){return"u">typeof crypto&&void 0!==crypto.subtle&&"u">typeof TextEncoder?btoa(await hk(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}async function h_(e,t,r=!1){let i=function(){let e=new Uint32Array(56);if("u"<typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let i=0;i<56;i++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,hx).join("")}(),n=i;r&&(n+="/PASSWORD_RECOVERY"),await hm(e,`${t}-code-verifier`,n);let s=await hS(i),a=i===s?"plain":"s256";return[s,a]}hv.promiseConstructor=Promise;let hE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,hT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hA(e){if(!hT.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hR(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hP(e){return JSON.parse(JSON.stringify(e))}let hO=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hj=[502,503,504];async function hC(e){var t;let r,i;if(!("object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json))throw new c7(hO(e),0);if(hj.includes(e.status))throw new c7(hO(e),e.status);try{r=await e.json()}catch(e){throw new c0(hO(e),e)}let n=function(e){let t=e.headers.get(cG);if(!t||!t.match(hE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(n&&n.getTime()>=cJ["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?i=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new ht(hO(r),e.status,(null==(t=r.weak_password)?void 0:t.reasons)||[]);else if("session_not_found"===i)throw new c2}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new ht(hO(r),e.status,r.weak_password.reasons);throw new cQ(hO(r),e.status||500,i)}async function hI(e,t,r,i){var n;let s=Object.assign({},null==i?void 0:i.headers);s[cG]||(s[cG]=cJ["2024-01-01"].name),(null==i?void 0:i.jwt)&&(s.Authorization=`Bearer ${i.jwt}`);let a=null!=(n=null==i?void 0:i.query)?n:{};(null==i?void 0:i.redirectTo)&&(a.redirect_to=i.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await hD(e,t,r+o,{headers:s,noResolveJson:null==i?void 0:i.noResolveJson},{},null==i?void 0:i.body);return(null==i?void 0:i.xform)?null==i?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function hD(e,t,r,i,n,s){let a,o,l=(o={method:t,headers:(null==i?void 0:i.headers)||{}},"GET"===t?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==i?void 0:i.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n)));try{a=await e(r,Object.assign({},l))}catch(e){throw console.error(e),new c7(hO(e),0)}if(a.ok||await hC(a),null==i?void 0:i.noResolveJson)return a;try{return await a.json()}catch(e){await hC(e)}}function hN(e){var t,r,i;let n=null;(i=e).access_token&&i.refresh_token&&i.expires_in&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!=(t=e.user)?t:e},error:null}}function h$(e){let t=hN(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function hL(e){var t;return{data:{user:null!=(t=e.user)?t:e},error:null}}function hM(e){return{data:e,error:null}}function hU(e){let{action_link:t,email_otp:r,hashed_token:i,redirect_to:n,verification_type:s}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:i,redirect_to:n,verification_type:s},user:Object.assign({},uN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function hB(e){return e}let hV=["global","local","others"];class hF{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=hf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=hV[0]){if(0>hV.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${hV.join(", ")}`);try{return await hI(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(cZ(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await hI(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:hL})}catch(e){if(cZ(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=uN(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=null==r?void 0:r.newEmail,delete i.newEmail),await hI(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hU,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(cZ(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await hI(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hL})}catch(e){if(cZ(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,i,n,s,a,o;try{let l={nextPage:null,lastPage:0,total:0},u=await hI(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(n=null==(i=null==e?void 0:e.perPage)?void 0:i.toString())?n:""},xform:hB});if(u.error)throw u.error;let c=await u.json(),h=null!=(s=u.headers.get("x-total-count"))?s:0,d=null!=(o=null==(a=u.headers.get("link"))?void 0:a.split(","))?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(cZ(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){hA(e);try{return await hI(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hL})}catch(e){if(cZ(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){hA(e);try{return await hI(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:hL})}catch(e){if(cZ(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){hA(e);try{return await hI(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:hL})}catch(e){if(cZ(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){hA(e.userId);try{let{data:t,error:r}=await hI(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(cZ(e))return{data:null,error:e};throw e}}async _deleteFactor(e){hA(e.userId),hA(e.id);try{return{data:await hI(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(cZ(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,r,i,n,s,a,o;try{let l={nextPage:null,lastPage:0,total:0},u=await hI(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(n=null==(i=null==e?void 0:e.perPage)?void 0:i.toString())?n:""},xform:hB});if(u.error)throw u.error;let c=await u.json(),h=null!=(s=u.headers.get("x-total-count"))?s:0,d=null!=(o=null==(a=u.headers.get("link"))?void 0:a.split(","))?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(cZ(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await hI(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(cZ(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await hI(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(cZ(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await hI(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(cZ(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await hI(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(cZ(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await hI(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(cZ(e))return{data:null,error:e};throw e}}}function hz(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}let hq={debug:!!(globalThis&&hp()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class hW extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hK extends hW{}async function hH(e,t,r){hq.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),hq.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async i=>{if(i){hq.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{hq.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}if(0===t)throw hq.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hq.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}))}function hG(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class hJ extends Error{constructor({message:e,code:t,cause:r,name:i}){var n;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!=(n=null!=i?i:r instanceof Error?r.name:void 0)?n:"Unknown Error",this.code=t}}class hY extends hJ{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}let hX=new class{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function hZ(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hQ(){var e,t;return!!(hh()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(e=null==navigator?void 0:navigator.credentials)?void 0:e.create)&&"function"==typeof(null==(t=null==navigator?void 0:navigator.credentials)?void 0:t.get))}async function h0(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new hY("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new hY("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var r,i,n;let{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new hJ({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null==(r=s.authenticatorSelection)?void 0:r.requireResidentKey)===!0)return new hJ({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});else if("conditional"===t.mediation&&(null==(i=s.authenticatorSelection)?void 0:i.userVerification)==="required")return new hJ({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});else if((null==(n=s.authenticatorSelection)?void 0:n.userVerification)==="required")return new hJ({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new hJ({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new hJ({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new hJ(0===s.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!hZ(t))return new hJ({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(s.rp.id!==t)return new hJ({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new hJ({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new hJ({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new hJ({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function h1(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new hY("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new hY("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new hJ({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new hJ({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!hZ(t))return new hJ({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new hJ({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new hJ({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new hJ({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let h2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},h5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function h3(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),i={};for(let n of e)if(n)for(let e in n){let s=n[e];if(void 0!==s)if(Array.isArray(s))i[e]=s;else if(r(s))i[e]=s;else if(t(s)){let r=i[e];t(r)?i[e]=h3(r,s):i[e]=h3(s)}else i[e]=s}return i}class h4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},n){var s,a,o,l,u;try{let{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};let d=null!=i?i:hX.createNewAbortSignal();if("create"===c.webauthn.type){let{user:e}=c.webauthn.credential_options.publicKey;if(!e.name)if(r)e.name=`${e.id}:${r}`;else{let t=(await this.client.getUser()).data.user,r=(null==(s=null==t?void 0:t.user_metadata)?void 0:s.name)||(null==t?void 0:t.email)||(null==t?void 0:t.id)||"User";e.name=`${e.id}:${r}`}e.displayName||(e.displayName=e.name)}switch(c.webauthn.type){case"create":{let t=(a=c.webauthn.credential_options.publicKey,o=null==n?void 0:n.create,h3(h2,a,o||{})),{data:r,error:i}=await h0({publicKey:t,signal:d});if(r)return{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:r}},error:null};return{data:null,error:i}}case"request":{let t=(l=c.webauthn.credential_options.publicKey,u=null==n?void 0:n.request,h3(h5,l,u||{})),{data:r,error:i}=await h1(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:t,signal:d}));if(r)return{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:r}},error:null};return{data:null,error:i}}}}catch(e){if(cZ(e))return{data:null,error:e};return{data:null,error:new c0("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t="u">typeof window?window.location.hostname:void 0,rpOrigins:r="u">typeof window?[window.location.origin]:void 0,signal:i}={}},n){if(!t)return{data:null,error:new cX("rpId is required for WebAuthn authentication")};try{if(!hQ())return{data:null,error:new c0("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:n});if(!s)return{data:null,error:a};let{webauthn:o}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:r,credential_response:o.credential_response}})}catch(e){if(cZ(e))return{data:null,error:e};return{data:null,error:new c0("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,webauthn:{rpId:t="u">typeof window?window.location.hostname:void 0,rpOrigins:r="u">typeof window?[window.location.origin]:void 0,signal:i}={}},n){if(!t)return{data:null,error:new cX("rpId is required for WebAuthn registration")};try{if(!hQ())return{data:null,error:new c0("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(t=>{var r;return null==(r=t.data)?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:a};let{data:o,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:n});if(!o)return{data:null,error:l};return this._verify({factorId:s.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:r,type:o.webauthn.type,credential_response:o.webauthn.credential_response}})}catch(e){if(cZ(e))return{data:null,error:e};return{data:null,error:new c0("Unexpected error in register",e)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"u">typeof self&&(self.globalThis=self)}let h8={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function h6(e,t,r){return await r()}let h9={};class h7{get jwks(){var e,t;return null!=(t=null==(e=h9[this.storageKey])?void 0:e.jwks)?t:{keys:[]}}set jwks(e){h9[this.storageKey]=Object.assign(Object.assign({},h9[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!=(t=null==(e=h9[this.storageKey])?void 0:e.cachedAt)?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){h9[this.storageKey]=Object.assign(Object.assign({},h9[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},h8),e);if(this.storageKey=n.storageKey,this.instanceID=null!=(t=h7.nextInstanceID[this.storageKey])?t:0,h7.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.instanceID>0&&hh()){const e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new hF({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=hf(n.fetch),this.lock=n.lock||h6,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,this.lockAcquireTimeout=n.lockAcquireTimeout,n.lock?this.lock=n.lock:this.persistSession&&hh()&&(null==(r=null==globalThis?void 0:globalThis.navigator)?void 0:r.locks)?this.lock=hH:this.lock=h6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:hp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hz(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=hz(this.memoryStorage)),hh()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null==(i=this.broadcastChannel)||i.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(e){this._debug("#broadcastChannel","error",e)}})}this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cK}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(hh()&&(t=function(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),hh()&&this.detectSessionInUrl&&"none"!==r){let{data:i,error:n}=await this._getSessionFromURL(t,r);if(n){(this._debug("#_initialize()","error detecting session from URL",n),cZ(n)&&"AuthImplicitGrantRedirectError"===n.name)&&(null==(e=n.details)||e.code);return{error:n}}let{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(cZ(e))return this._returnResult({error:e});return this._returnResult({error:new c0("Unexpected error during initialization",e)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{let{data:n,error:s}=await hI(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(r=null==(t=null==e?void 0:e.options)?void 0:t.data)?r:{},gotrue_meta_security:{captcha_token:null==(i=null==e?void 0:e.options)?void 0:i.captchaToken}},xform:hN});if(s||!n)return this._returnResult({data:{user:null,session:null},error:s});let a=n.session,o=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:o,session:a},error:null})}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){var t,r,i;try{let n;if("email"in e){let{email:r,password:i,options:s}=e,a=null,o=null;"pkce"===this.flowType&&([a,o]=await h_(this.storage,this.storageKey)),n=await hI(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:i,data:null!=(t=null==s?void 0:s.data)?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:o},xform:hN})}else if("phone"in e){let{phone:t,password:s,options:a}=e;n=await hI(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!=(r=null==a?void 0:a.data)?r:{},channel:null!=(i=null==a?void 0:a.channel)?i:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:hN})}else throw new c4("You must provide either an email or phone number and a password");let{data:s,error:a}=n;if(a||!s)return await hy(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});let o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(await hy(this.storage,`${this.storageKey}-code-verifier`),cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:i,options:n}=e;t=await hI(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:h$})}else if("phone"in e){let{phone:r,password:i,options:n}=e;t=await hI(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:h$})}else throw new c4("You must provide either an email or phone number and a password");let{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){let e=new c3;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){var t,r,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null==(t=e.options)?void 0:t.redirectTo,scopes:null==(r=e.options)?void 0:r.scopes,queryParams:null==(i=e.options)?void 0:i.queryParams,skipBrowserRedirect:null==(n=e.options)?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,n,s,a,o,l,u,c,h,d;let p,f;if("message"in e)p=e.message,f=e.signature;else{let c,{chain:h,wallet:m,statement:g,options:y}=e;if(hh())if("object"==typeof m)c=m;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)c=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof m||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=m}let v=new URL(null!=(t=null==y?void 0:y.url)?t:window.location.href),b=await c.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||0===b.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let w=hG(b[0]),x=null==(r=null==y?void 0:y.signInWithEthereum)?void 0:r.chainId;x||(x=parseInt(await c.request({method:"eth_chainId"}),16)),p=function(e){var t;let{chainId:r,domain:i,expirationTime:n,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:h,version:d}=e;if(!Number.isInteger(r))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null==(t=e.statement)?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let p=hG(e.address),f=c?`${c}://${i}`:i,m=e.statement?`${e.statement}
`:"",g=`${f} wants you to sign in with your Ethereum account:
${p}

${m}`,y=`URI: ${h}
Version: ${d}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(n&&(y+=`
Expiration Time: ${n.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let e="\nResources:";for(let t of u){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}y+=e}return`${g}
${y}`}({domain:v.host,address:w,statement:g,uri:v.href,version:"1",chainId:x,nonce:null==(i=null==y?void 0:y.signInWithEthereum)?void 0:i.nonce,issuedAt:null!=(s=null==(n=null==y?void 0:y.signInWithEthereum)?void 0:n.issuedAt)?s:new Date,expirationTime:null==(a=null==y?void 0:y.signInWithEthereum)?void 0:a.expirationTime,notBefore:null==(o=null==y?void 0:y.signInWithEthereum)?void 0:o.notBefore,requestId:null==(l=null==y?void 0:y.signInWithEthereum)?void 0:l.requestId,resources:null==(u=null==y?void 0:y.signInWithEthereum)?void 0:u.resources}),f=await c.request({method:"personal_sign",params:[(d=p,"0x"+Array.from(new TextEncoder().encode(d),e=>e.toString(16).padStart(2,"0")).join("")),w]})}try{let{data:t,error:r}=await hI(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:f},(null==(c=e.options)?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null==(h=e.options)?void 0:h.captchaToken}}:null),xform:hN});if(r)throw r;if(!t||!t.session||!t.user){let e=new c3;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){var t,r,i,n,s,a,o,l,u,c,h,d;let p,f;if("message"in e)p=e.message,f=e.signature;else{let h,{chain:d,wallet:m,statement:g,options:y}=e;if(hh())if("object"==typeof m)h=m;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))h=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof m||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=m}let v=new URL(null!=(t=null==y?void 0:y.url)?t:window.location.href);if("signIn"in h&&h.signIn){let e,t=await h.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==y?void 0:y.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),g?{statement:g}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)p="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),f=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in h)||"function"!=typeof h.signMessage||!("publicKey"in h)||"object"!=typeof h||!h.publicKey||!("toBase58"in h.publicKey)||"function"!=typeof h.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${v.host} wants you to sign in with your Solana account:`,h.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!=(i=null==(r=null==y?void 0:y.signInWithSolana)?void 0:r.issuedAt)?i:new Date().toISOString()}`,...(null==(n=null==y?void 0:y.signInWithSolana)?void 0:n.notBefore)?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...(null==(s=null==y?void 0:y.signInWithSolana)?void 0:s.expirationTime)?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...(null==(a=null==y?void 0:y.signInWithSolana)?void 0:a.chainId)?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...(null==(o=null==y?void 0:y.signInWithSolana)?void 0:o.nonce)?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...(null==(l=null==y?void 0:y.signInWithSolana)?void 0:l.requestId)?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...(null==(c=null==(u=null==y?void 0:y.signInWithSolana)?void 0:u.resources)?void 0:c.length)?["Resources",...y.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await h.signMessage(new TextEncoder().encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{let{data:t,error:r}=await hI(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:hc(f)},(null==(h=e.options)?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null==(d=e.options)?void 0:d.captchaToken}}:null),xform:hN});if(r)throw r;if(!t||!t.session||!t.user){let e=new c3;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let t=await hg(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(null!=t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new c9;let{data:t,error:n}=await hI(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:hN});if(await hy(this.storage,`${this.storageKey}-code-verifier`),n)throw n;if(!t||!t.session||!t.user){let e=new c3;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=i?i:null}),error:n})}catch(e){if(await hy(this.storage,`${this.storageKey}-code-verifier`),cZ(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:i,access_token:n,nonce:s}=e,{data:a,error:o}=await hI(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:hN});if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){let e=new c3;return this._returnResult({data:{user:null,session:null},error:e})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:a,error:o})}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){var t,r,i,n,s;try{if("email"in e){let{email:i,options:n}=e,s=null,a=null;"pkce"===this.flowType&&([s,a]=await h_(this.storage,this.storageKey));let{error:o}=await hI(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:null!=(t=null==n?void 0:n.data)?t:{},create_user:null==(r=null==n?void 0:n.shouldCreateUser)||r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:s,code_challenge_method:a},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){let{phone:t,options:r}=e,{data:a,error:o}=await hI(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!=(i=null==r?void 0:r.data)?i:{},create_user:null==(n=null==r?void 0:r.shouldCreateUser)||n,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!=(s=null==r?void 0:r.channel)?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o})}throw new c4("You must provide either an email or phone number.")}catch(e){if(await hy(this.storage,`${this.storageKey}-code-verifier`),cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){var t,r;try{let i,n;"options"in e&&(i=null==(t=e.options)?void 0:t.redirectTo,n=null==(r=e.options)?void 0:r.captchaToken);let{data:s,error:a}=await hI(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:hN});if(a)throw a;if(!s)throw Error("An error occurred on token verification.");let o=s.session,l=s.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){var t,r,i,n,s;try{let a=null,o=null;"pkce"===this.flowType&&([a,o]=await h_(this.storage,this.storageKey));let l=await hI(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!=(r=null==(t=e.options)?void 0:t.redirectTo)?r:void 0}),(null==(i=null==e?void 0:e.options)?void 0:i.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:hM});return(null==(n=l.data)?void 0:n.url)&&hh()&&!(null==(s=e.options)?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(e){if(await hy(this.storage,`${this.storageKey}-code-verifier`),cZ(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new c2;let{error:i}=await hI(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:i,options:n}=e,{error:s}=await hI(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){let{phone:r,type:i,options:n}=e,{data:s,error:a}=await hI(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:a})}throw new c4("You must provide either an email or phone number and a type")}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let t=null,r=await hg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),null!==r&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let i=!!t.expires_at&&1e3*t.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let e=await hg(this.userStorage,this.storageKey+"-user");(null==e?void 0:e.user)?t.user=e.user:t.user=hR()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){var e;let r={value:this.suppressGetSessionWarning};t.user=(e=t.user,new Proxy(e,{get:(e,t,i)=>{if("__isInsecureUserWarningProxy"===t)return!0;if("symbol"==typeof t){let r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r||"Symbol(nodejs.util.inspect.custom)"===r)return Reflect.get(e,t,i)}return r.value||"string"!=typeof t||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(e,t,i)}})),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:n,error:s}=await this._callRefreshToken(t.refresh_token);if(s)return this._returnResult({data:{session:null},error:s});return this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{if(e)return await hI(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hL});return await this._useSession(async e=>{var t,r,i;let{data:n,error:s}=e;if(s)throw s;return(null==(t=n.session)?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await hI(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(i=null==(r=n.session)?void 0:r.access_token)?i:void 0,xform:hL}):{data:{user:null},error:new c2}})}catch(e){if(cZ(e))return c5(e)&&(await this._removeSession(),await hy(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new c2;let s=i.session,a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await h_(this.storage,this.storageKey));let{data:l,error:u}=await hI(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:s.access_token,xform:hL});if(u)throw u;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(e){if(await hy(this.storage,`${this.storageKey}-code-verifier`),cZ(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new c2;let t=Date.now()/1e3,r=t,i=!0,n=null,{payload:s}=hb(e.access_token);if(s.exp&&(i=(r=s.exp)<=t),i){let{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};n=t}else{let{data:i,error:s}=await this._getUser(e.access_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});n={access_token:e.access_token,refresh_token:e.refresh_token,user:i.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(e){if(cZ(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:i,error:n}=t;if(n)throw n;e=null!=(r=i.session)?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new c2;let{data:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!hh())throw new c8("No browser detected.");if(e.error||e.error_description||e.error_code)throw new c8(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new c6("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new c8("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new c6("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let i=new URL(window.location.href);return i.searchParams.delete("code"),window.history.replaceState(window.history.state,"",i.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:s,expires_in:a,expires_at:o,token_type:l}=e;if(!n||!a||!s||!l)throw new c8("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(a),h=u+c;o&&(h=parseInt(o));let d=h-u;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);let p=h-c;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);let{data:f,error:m}=await this._getUser(n);if(m)throw m;let g={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:c,expires_at:h,refresh_token:s,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(cZ(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await hg(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:i,error:n}=t;if(n&&!c5(n))return this._returnResult({error:n});let s=null==(r=i.session)?void 0:r.access_token;if(s){let{error:t}=await this.admin.signOut(s,e);if(t&&!(cZ(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)||c5(t)))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await hy(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{let{data:{session:i},error:n}=t;if(n)throw n;await (null==(r=this.stateChangeEmitters.get(e))?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(t){await (null==(i=this.stateChangeEmitters.get(e))?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;"pkce"===this.flowType&&([r,i]=await h_(this.storage,this.storageKey,!0));try{return await hI(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await hy(this.storage,`${this.storageKey}-code-verifier`),cZ(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!=(e=t.user.identities)?e:[]},error:null})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:r,error:i}=await this._useSession(async t=>{var r,i,n,s,a;let{data:o,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null==(r=e.options)?void 0:r.redirectTo,scopes:null==(i=e.options)?void 0:i.scopes,queryParams:null==(n=e.options)?void 0:n.queryParams,skipBrowserRedirect:!0});return await hI(this.fetch,"GET",u,{headers:this.headers,jwt:null!=(a=null==(s=o.session)?void 0:s.access_token)?a:void 0})});if(i)throw i;return!hh()||(null==(t=e.options)?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(t){if(cZ(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{let{error:i,data:{session:n}}=t;if(i)throw i;let{options:s,provider:a,token:o,access_token:l,nonce:u}=e,{data:c,error:h}=await hI(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(r=null==n?void 0:n.access_token)?r:void 0,body:{provider:a,id_token:o,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:hN});if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c||!c.session||!c.user)return this._returnResult({data:{user:null,session:null},error:new c3});return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("USER_UPDATED",c.session)),this._returnResult({data:c,error:h})}catch(e){if(await hy(this.storage,`${this.storageKey}-code-verifier`),cZ(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;let{data:n,error:s}=t;if(s)throw s;return await hI(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!=(i=null==(r=n.session)?void 0:r.access_token)?i:void 0})})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,i;let n=Date.now();return await (r=async r=>(r>0&&await hw(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await hI(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hN})),i=(e,t)=>{let r=200*Math.pow(2,e);return t&&he(t)&&Date.now()+r-n<3e4},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{let t=await r(n);if(!i(n,null,t))return void e(t)}catch(e){if(!i(n,e))return void t(e)}})()}))}catch(e){if(this._debug(t,"error",e),cZ(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),hh()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await hg(this.storage,this.storageKey);if(i&&this.userStorage){let t=await hg(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:i.user},await hm(this.userStorage,this.storageKey+"-user",t)),i.user=null!=(e=null==t?void 0:t.user)?e:hR()}else if(i&&!i.user&&!i.user){let e=await hg(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(i.user=e.user,await hy(this.storage,this.storageKey+"-user"),await hm(this.storage,this.storageKey,i)):i.user=hR()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),null!==i&&await this._removeSession();return}let n=(null!=(t=i.expires_at)?t:1/0)*1e3-Date.now()<9e4;if(this._debug(r,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&i.refresh_token){let{error:e}=await this._callRefreshToken(i.refresh_token);e&&(console.error(e),he(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(i.access_token);!t&&(null==e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(r,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(e){this._debug(r,"error",e),console.error(e);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new c2;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new hv;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new c2;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let i={data:t.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(e){if(this._debug(i,"error",e),cZ(e)){let r={data:null,error:e};return he(e)||await this._removeSession(),null==(t=this.refreshingDeferred)||t.resolve(r),r}throw null==(r=this.refreshingDeferred)||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let i=[],n=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){i.push(e)}});if(await Promise.all(n),i.length>0){for(let e=0;e<i.length;e+=1)console.error(i[e]);throw i[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hy(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await hm(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let i=hP(e);await hm(this.storage,this.storageKey,i)}else{let e=hP(t);await hm(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hy(this.storage,this.storageKey),await hy(this.storage,this.storageKey+"-code-verifier"),await hy(this.storage,this.storageKey+"-user"),this.userStorage&&await hy(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hh()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"u">typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e);let t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"u">typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);let t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let i=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),i<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hW)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hh()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"!==document.visibilityState?this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"):await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let i=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await h_(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});i.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);i.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:i,error:n}=t;return n?this._returnResult({data:null,error:n}):await hI(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null==(r=null==i?void 0:i.session)?void 0:r.access_token})})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;let{data:n,error:s}=t;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await hI(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null==(i=null==o?void 0:o.totp)?void 0:i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r,i,n;let{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});let o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(i=e.webauthn.credential_response,"toJSON"in i&&"function"==typeof i.toJSON?i.toJSON():{id:i.id,rawId:i.id,response:{attestationObject:hc(new Uint8Array(i.response.attestationObject)),clientDataJSON:hc(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:null!=(n=i.authenticatorAttachment)?n:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hc(new Uint8Array(i.authenticatorData)),clientDataJSON:hc(new Uint8Array(i.clientDataJSON)),signature:hc(new Uint8Array(i.signature)),userHandle:i.userHandle?hc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!=(t=e.authenticatorAttachment)?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await hI(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:null==(r=null==s?void 0:s.session)?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;let{data:i,error:n}=t;if(n)return this._returnResult({data:null,error:n});let s=await hI(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null==(r=null==i?void 0:i.session)?void 0:r.access_token});if(s.error)return s;let{data:a}=s;if("webauthn"!==a.type)return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("u">typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:r,excludeCredentials:i}=e,n=uN(e,["challenge","user","excludeCredentials"]),s=hu(t).buffer,a=Object.assign(Object.assign({},r),{id:hu(r.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:s,user:a});if(i&&i.length>0){o.excludeCredentials=Array(i.length);for(let e=0;e<i.length;e++){let t=i[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:hu(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("u">typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:r}=e,i=uN(e,["challenge","allowCredentials"]),n=hu(t).buffer,s=Object.assign(Object.assign({},i),{challenge:n});if(r&&r.length>0){s.allowCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:hu(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let i={all:[],phone:[],totp:[],webauthn:[]};for(let r of null!=(e=null==t?void 0:t.factors)?e:[])i.all.push(r),"verified"===r.status&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,i,n;if(e)try{let{payload:i}=hb(e),n=null;i.aal&&(n=i.aal);let s=n,{data:{user:a},error:o}=await this.getUser(e);if(o)return this._returnResult({data:null,error:o});(null!=(r=null==(t=null==a?void 0:a.factors)?void 0:t.filter(e=>"verified"===e.status))?r:[]).length>0&&(s="aal2");let l=i.amr||[];return{data:{currentLevel:n,nextLevel:s,currentAuthenticationMethods:l},error:null}}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}let{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:o}=hb(s.access_token),l=null;o.aal&&(l=o.aal);let u=l;return(null!=(n=null==(i=s.user.factors)?void 0:i.filter(e=>"verified"===e.status))?n:[]).length>0&&(u="aal2"),{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:o.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await hI(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new c2})})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:i},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!i)return this._returnResult({data:null,error:new c2});let s=await hI(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&hh()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:i},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!i)return this._returnResult({data:null,error:new c2});let s=await hI(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&hh()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await hI(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new c2})})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?(await hI(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new c2})})}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;let i=Date.now();if((r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>i)return r;let{data:n,error:s}=await hI(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return n.keys&&0!==n.keys.length&&(this.jwks=n,this.jwks_cached_at=i,r=n.keys.find(t=>t.kid===e))?r:null}async getClaims(e,t={}){try{var r;let i,n=e;if(!n){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}let{header:s,payload:a,signature:o,raw:{header:l,payload:u}}=hb(n);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(a.exp);let c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!c){let{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:s,signature:o},error:null}}let h=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(s.alg),d=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,o,(r=`${l}.${u}`,i=[],!function(e,t){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){let t=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127)return t(e);if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(i,t)}}(r,e=>i.push(e)),new Uint8Array(i))))throw new hr("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(e){if(cZ(e))return this._returnResult({data:null,error:e});throw e}}}h7.nextInstanceID={};let de=h7,dt="";dt="u">typeof Deno?"deno":"u">typeof document?"web":"u">typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let dr={headers:{"X-Client-Info":`supabase-js-${dt}/2.95.3`}},di={schema:"public"},dn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ds={};function da(e){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function du(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dl(Object(r),!0).forEach(function(t){!function(e,t,r){var i;(i=function(e,t){if("object"!=da(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=da(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==da(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var dc=class extends de{constructor(e){super(e)}},dh=class{constructor(e,t,r){var i,n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l=function(e,t){var r,i;let{db:n,auth:s,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:h}=t,d={db:du(du({},l),n),auth:du(du({},u),s),realtime:du(du({},c),a),storage:{},global:du(du(du({},h),o),{},{headers:du(du({},null!=(r=null==h?void 0:h.headers)?r:{}),null!=(i=null==o?void 0:o.headers)?i:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:di,realtime:ds,auth:du(du({},dn),{},{storageKey:o}),global:dr});this.storageKey=null!=(i=l.auth.storageKey)?i:"",this.headers=null!=(n=l.global.headers)?n:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(s=l.auth)?s:{},this.headers,l.global.fetch),this.fetch=((e,t,r)=>{let i=r?(...e)=>r(...e):(...e)=>fetch(...e),n=Headers;return async(r,s)=>{var a;let o=null!=(a=await t())?a:e,l=new n(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),i(r,du(du({},s),{},{headers:l}))}})(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(du({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new uK(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new cW(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new u$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return null!=(e=null==(t=r.session)?void 0:t.access_token)?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:n,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:u},c,h){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dc({url:this.authUrl.href,headers:du(du({},d),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:n,flowType:a,lock:o,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new ci(this.realtimeUrl.href,du(du({},e),{},{params:du(du({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}};(function(){if("u">typeof window)return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(null==t)return!1;let r=t.match(/^v(\d+)\./);return!!r&&18>=parseInt(r[1],10)})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let dd=rH.default.env.NEXT_PUBLIC_SUPABASE_URL||"",dp=rH.default.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"";dd&&dp&&new dh(dd,dp,a);let df=[{id:"1",title:"Agents HQ v4.0 Redesign",description:"Complete redesign of the mission control interface with sci-fi aesthetics",status:"in-progress",progress:80,assignee:"mist",tags:["feature","urgent"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",title:"Sero AI Pricing Strategy",description:"Define pricing tiers and packages for Sero AI services",status:"in-progress",progress:100,assignee:"mist",tags:["strategy","completed"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completedAt:new Date().toISOString()},{id:"3",title:"Video Anthropic vs OpenAI",description:"Research and script comparison video between AI models",status:"upcoming",progress:0,assignee:"mist",tags:["content","research"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"4",title:"Beta Testers Google Forms",description:"Create and configure recruitment form for beta testers",status:"upcoming",progress:0,assignee:"mist",tags:["setup","marketing"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"5",title:"Health: Ear cleaning appointment",description:"Personal health appointment scheduling",status:"upcoming",progress:0,assignee:"user",tags:["health","personal"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"6",title:"Cardjutsu Battle System",description:"Complete card battle game mechanics and UI",status:"completed",progress:100,assignee:"mist",tags:["feature","game"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completedAt:new Date().toISOString()},{id:"7",title:"Chi Voice System Setup",description:"Configure and deploy voice interaction system",status:"completed",progress:100,assignee:"mist",tags:["feature","voice"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completedAt:new Date().toISOString()},{id:"8",title:"Sero AI Notion Packages",description:"Define and document service packages in Notion",status:"completed",progress:100,assignee:"mist",tags:["documentation","completed"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completedAt:new Date().toISOString()}],dm=[{id:"1",sender:"mist",content:"Working on the v4.0 redesign. The kanban board is coming together nicely!",timestamp:new Date(Date.now()-18e5).toISOString()},{id:"2",sender:"mist",content:"All systems operational. Ready for your next command.",timestamp:new Date(Date.now()-3e5).toISOString()}],dg=[{id:"1",type:"deploy",message:"Mission Control v4.0 deployed successfully",timestamp:new Date(Date.now()-36e5).toISOString()},{id:"2",type:"commit",message:"Updated kanban board with drag & drop",timestamp:new Date(Date.now()-27e5).toISOString()},{id:"3",type:"update",message:"Sero AI Pricing Strategy marked complete",timestamp:new Date(Date.now()-18e5).toISOString()}],dy=[{id:"in-progress",title:"EN PROGRESO",icon:(0,J.jsx)(lx,{className:"w-5 h-5"}),color:"var(--neon-cyan)"},{id:"upcoming",title:"PRXIMAS",icon:(0,J.jsx)(lk,{className:"w-5 h-5"}),color:"var(--neon-purple)"},{id:"completed",title:"COMPLETADAS",icon:(0,J.jsx)(lS,{className:"w-5 h-5"}),color:"var(--neon-green)"},{id:"blocked",title:"BLOQUEADAS",icon:(0,J.jsx)(l_,{className:"w-5 h-5"}),color:"var(--neon-orange)"}],dv={urgent:"bg-red-500/20 text-red-400 border-red-500/30",feature:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",bug:"bg-orange-500/20 text-orange-400 border-orange-500/30",research:"bg-purple-500/20 text-purple-400 border-purple-500/30",strategy:"bg-green-500/20 text-green-400 border-green-500/30",content:"bg-pink-500/20 text-pink-400 border-pink-500/30",setup:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",marketing:"bg-blue-500/20 text-blue-400 border-blue-500/30",health:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",personal:"bg-gray-500/20 text-gray-400 border-gray-500/30",game:"bg-violet-500/20 text-violet-400 border-violet-500/30",voice:"bg-amber-500/20 text-amber-400 border-amber-500/30",documentation:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",completed:"bg-green-500/20 text-green-400 border-green-500/30"};function db({task:e,isOverlay:t,onClick:r}){var i;let{attributes:n,listeners:s,setNodeRef:a,transform:o,transition:l,isDragging:u}=t5({id:e.id,data:{task:e}}),c={transform:eb.Transform.toString(o),transition:l};return(0,J.jsxs)(la.div,{ref:a,style:c,...n,...s,onClick:r,layout:!0,initial:{opacity:0,y:10},animate:{opacity:u?.5:1,y:0},whileHover:{scale:1.02,y:-2},className:uO("glass rounded-lg p-4 cursor-grab active:cursor-grabbing relative overflow-hidden group",t&&"scale-105 rotate-2 shadow-2xl glow-cyan z-50",u&&"opacity-50"),children:[(0,J.jsx)("div",{className:"absolute inset-0 scanline pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity"}),(0,J.jsx)("div",{className:"absolute top-0 left-0 h-[2px] progress-glow",style:{width:`${e.progress}%`,background:"var(--neon-cyan)"}}),(0,J.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,J.jsxs)("div",{className:"flex items-center gap-2",children:[(0,J.jsx)("span",{className:"text-lg",children:(i=e.tags).includes("bug")?"":i.includes("feature")?"":i.includes("research")?"":i.includes("content")?"":i.includes("strategy")?"":i.includes("game")?"":i.includes("health")?"":i.includes("voice")?"":i.includes("documentation")?"":""}),(0,J.jsx)("h4",{className:"font-semibold text-sm text-gray-100 leading-tight",children:e.title})]}),(0,J.jsx)("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-500 hover:text-white",children:(0,J.jsx)(lA,{className:"w-4 h-4"})})]}),(0,J.jsx)("div",{className:"flex items-center gap-2 mb-3",children:(0,J.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-full bg-white/5 border border-white/10",children:[(0,J.jsx)("span",{className:"text-xs",children:"mist"===e.assignee?"":""}),(0,J.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:e.assignee})]})}),(0,J.jsxs)("div",{className:"mb-3",children:[(0,J.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,J.jsx)("span",{className:"text-gray-500",children:"Progreso"}),(0,J.jsxs)("span",{className:"text-cyan-400 font-mono",children:[e.progress,"%"]})]}),(0,J.jsx)("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,J.jsx)(la.div,{initial:{width:0},animate:{width:`${e.progress}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full rounded-full",style:{background:"linear-gradient(90deg, var(--neon-cyan), var(--neon-purple))"}})})]}),(0,J.jsx)("div",{className:"flex flex-wrap gap-1.5",children:e.tags.map(e=>(0,J.jsx)("span",{className:uO("px-2 py-0.5 rounded text-[10px] uppercase tracking-wider border",dv[e]||"bg-gray-500/20 text-gray-400 border-gray-500/30"),children:e},e))})]})}function dw({column:e,tasks:t,onAddTask:r}){let{setNodeRef:i,isOver:n}=t5({id:e.id,data:{type:"column",column:e}});return(0,J.jsxs)(la.div,{ref:i,layout:!0,className:uO("flex flex-col h-full min-h-[400px] rounded-xl",n&&"bg-cyan-500/5"),children:[(0,J.jsxs)("div",{className:"flex items-center justify-between p-4 mb-4 rounded-lg glass",style:{borderLeft:`3px solid ${e.color}`},children:[(0,J.jsxs)("div",{className:"flex items-center gap-3",children:[(0,J.jsx)("div",{className:"p-2 rounded-lg",style:{background:`${e.color}20`,color:e.color},children:e.icon}),(0,J.jsxs)("div",{children:[(0,J.jsx)("h3",{className:"font-bold text-sm tracking-wider",style:{color:e.color},children:e.title}),(0,J.jsxs)("span",{className:"text-xs text-gray-500",children:[t.length," tareas"]})]})]}),(0,J.jsx)("button",{onClick:()=>r(e.id),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:(0,J.jsx)(lT,{className:"w-4 h-4"})})]}),(0,J.jsx)("div",{className:"flex-1 space-y-3 min-h-[200px] p-1",children:(0,J.jsx)(tY,{items:t.map(e=>e.id),strategy:tH,children:(0,J.jsx)(lm,{mode:"popLayout",children:t.map(e=>(0,J.jsx)(db,{task:e},e.id))})})})]})}function dx({messages:e,onSend:t}){let[r,i]=(0,Y.useState)(""),n=(0,Y.useRef)(null);(0,Y.useEffect)(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[e]);let s=()=>{r.trim()&&(t(r),i(""))};return(0,J.jsxs)("div",{className:"glass-strong rounded-xl overflow-hidden flex flex-col h-full",children:[(0,J.jsxs)("div",{className:"flex items-center gap-3 p-4 border-b border-white/10",children:[(0,J.jsxs)("div",{className:"relative",children:[(0,J.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 to-purple-600 flex items-center justify-center",children:(0,J.jsx)("span",{className:"text-xl",children:""})}),(0,J.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-[#0a0c0e]"})]}),(0,J.jsxs)("div",{children:[(0,J.jsx)("h3",{className:"font-semibold text-sm text-gray-100",children:"Mist"}),(0,J.jsxs)("p",{className:"text-xs text-green-400 flex items-center gap-1",children:[(0,J.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Online"]})]})]}),(0,J.jsx)("div",{ref:n,className:"flex-1 overflow-y-auto p-4 space-y-4",children:e.map(e=>(0,J.jsxs)(la.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:uO("flex gap-3","user"===e.sender&&"flex-row-reverse"),children:[(0,J.jsx)("div",{className:uO("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0","mist"===e.sender?"bg-gradient-to-br from-cyan-500 to-purple-600":"bg-gray-700"),children:(0,J.jsx)("span",{className:"text-sm",children:"mist"===e.sender?"":""})}),(0,J.jsx)("div",{className:uO("max-w-[70%] px-4 py-2.5 rounded-2xl text-sm","mist"===e.sender?"bg-white/10 text-gray-200 rounded-tl-sm":"bg-cyan-500/20 text-cyan-100 rounded-tr-sm border border-cyan-500/30"),children:e.content})]},e.id))}),(0,J.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,J.jsxs)("div",{className:"flex items-center gap-2",children:[(0,J.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&s(),placeholder:"Mensaje a Mist...",className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2.5 text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:border-cyan-500/50 transition-colors"}),(0,J.jsx)("button",{onClick:s,className:"p-2.5 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:(0,J.jsx)(lE,{className:"w-4 h-4"})})]})})]})}function dk({activities:e}){return(0,J.jsxs)("div",{className:"glass-strong rounded-xl overflow-hidden flex flex-col h-full",children:[(0,J.jsxs)("div",{className:"flex items-center gap-3 p-4 border-b border-white/10",children:[(0,J.jsx)(lO,{className:"w-5 h-5 text-cyan-400"}),(0,J.jsx)("h3",{className:"font-semibold text-sm text-gray-100",children:"Activity Feed"})]}),(0,J.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:e.map((e,t)=>{let r,i,n,s,a;return(0,J.jsxs)(la.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[(0,J.jsx)("div",{className:"p-2 rounded-lg bg-white/5 flex-shrink-0",children:(e=>{switch(e){case"deploy":return(0,J.jsx)(lC,{className:"w-4 h-4 text-purple-400"});case"commit":return(0,J.jsx)(lj,{className:"w-4 h-4 text-cyan-400"});case"update":return(0,J.jsx)(lO,{className:"w-4 h-4 text-green-400"});case"status_change":return(0,J.jsx)(lR,{className:"w-4 h-4 text-yellow-400"});case"create":return(0,J.jsx)(lP,{className:"w-4 h-4 text-pink-400"});default:return(0,J.jsx)(lO,{className:"w-4 h-4 text-gray-400"})}})(e.type)}),(0,J.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,J.jsx)("p",{className:"text-sm text-gray-300 leading-snug",children:e.message}),(0,J.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(r=new Date(e.timestamp),n=Math.floor((i=new Date().getTime()-r.getTime())/6e4),s=Math.floor(i/36e5),a=Math.floor(i/864e5),n<1?"just now":n<60?`${n}m ago`:s<24?`${s}h ago`:a<7?`${a}d ago`:r.toLocaleDateString())})]})]},e.id)})})]})}function dS({isOpen:e,onClose:t,onSave:r,initialStatus:i}){let[n,s]=(0,Y.useState)(""),[a,o]=(0,Y.useState)(""),[l,u]=(0,Y.useState)([]);return e?(0,J.jsx)(lm,{children:(0,J.jsx)(la.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:(0,J.jsxs)(la.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"glass-strong rounded-2xl p-6 w-full max-w-md border border-cyan-500/30 glow-cyan",children:[(0,J.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,J.jsxs)("div",{className:"flex items-center gap-3",children:[(0,J.jsx)("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:(0,J.jsx)(lP,{className:"w-5 h-5 text-cyan-400"})}),(0,J.jsx)("h2",{className:"text-lg font-bold text-white",children:"Nueva Misin"})]}),(0,J.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-white",children:(0,J.jsx)(lI,{className:"w-5 h-5"})})]}),(0,J.jsxs)("div",{className:"space-y-4",children:[(0,J.jsxs)("div",{children:[(0,J.jsx)("label",{className:"block text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"Ttulo"}),(0,J.jsx)("input",{type:"text",value:n,onChange:e=>s(e.target.value),placeholder:"Nombre de la misin...",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500/50",autoFocus:!0})]}),(0,J.jsxs)("div",{children:[(0,J.jsx)("label",{className:"block text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"Descripcin"}),(0,J.jsx)("textarea",{value:a,onChange:e=>o(e.target.value),placeholder:"Detalles de la misin...",rows:3,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500/50 resize-none"})]}),(0,J.jsxs)("div",{children:[(0,J.jsx)("label",{className:"block text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"Etiquetas"}),(0,J.jsx)("div",{className:"flex flex-wrap gap-2",children:["urgent","feature","bug","research","strategy","content","setup"].map(e=>(0,J.jsx)("button",{onClick:()=>u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),className:uO("px-3 py-1.5 rounded-full text-xs border transition-all",l.includes(e)?"bg-cyan-500/30 border-cyan-500/50 text-cyan-300":"bg-white/5 border-white/10 text-gray-400 hover:border-white/20"),children:e},e))})]})]}),(0,J.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,J.jsx)("button",{onClick:t,className:"flex-1 px-4 py-3 rounded-lg bg-white/5 text-gray-300 hover:bg-white/10 transition-colors",children:"Cancelar"}),(0,J.jsx)("button",{onClick:()=>{n.trim()&&(r({title:n,description:a,status:i,tags:l,progress:0,assignee:"mist"}),s(""),o(""),u([]),t())},disabled:!n.trim(),className:"flex-1 px-4 py-3 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-500/30 hover:bg-cyan-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Crear Misin"})]})]})})}):null}function d_(){let[e,t]=(0,Y.useState)(df),[r,i]=(0,Y.useState)(dm),[n,s]=(0,Y.useState)(dg),[a,o]=(0,Y.useState)(null),[l,u]=(0,Y.useState)(!1),[c,h]=(0,Y.useState)("upcoming"),[d,p]=(0,Y.useState)(new Date);(0,Y.useEffect)(()=>{let e=setInterval(()=>p(new Date),1e3);return()=>clearInterval(e)},[]);let f=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,Y.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(eP(ti,{activationConstraint:{distance:5}}),eP(e9,{coordinateGetter:t8})),m=e=>{h(e),u(!0)},g={sideEffects:tU({styles:{active:{opacity:"0.5"}}})},y=e.find(e=>e.id===a);return(0,J.jsxs)("div",{className:"min-h-screen bg-scifi text-gray-100 overflow-hidden",children:[(0,J.jsxs)("div",{className:"fixed inset-0 pointer-events-none",children:[(0,J.jsx)("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"}),(0,J.jsx)("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"})]}),(0,J.jsx)("header",{className:"relative z-10 glass-strong border-b border-white/10",children:(0,J.jsx)("div",{className:"max-w-[1920px] mx-auto px-6 py-4",children:(0,J.jsxs)("div",{className:"flex items-center justify-between",children:[(0,J.jsxs)("div",{className:"flex items-center gap-4",children:[(0,J.jsxs)("div",{className:"relative",children:[(0,J.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-purple-600 flex items-center justify-center glow-cyan",children:(0,J.jsx)(lR,{className:"w-6 h-6 text-white"})}),(0,J.jsx)("div",{className:"absolute -inset-1 rounded-xl bg-gradient-to-br from-cyan-500 to-purple-600 opacity-50 blur-lg pulse-glow"})]}),(0,J.jsxs)("div",{children:[(0,J.jsx)("h1",{className:"text-xl font-bold tracking-wider text-glow-cyan",children:"THE BRIDGE"}),(0,J.jsx)("p",{className:"text-xs text-gray-500 tracking-widest",children:"MISSION CONTROL v4.0"})]})]}),(0,J.jsxs)("div",{className:"flex items-center gap-6",children:[(0,J.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-green-500/10 border border-green-500/20",children:[(0,J.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,J.jsx)("span",{className:"text-sm text-green-400 font-medium",children:"SYSTEM ONLINE"})]}),(0,J.jsxs)("div",{className:"text-right",children:[(0,J.jsx)("div",{className:"text-2xl font-mono font-bold text-gray-200",children:d.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,J.jsx)("div",{className:"text-xs text-gray-500",children:d.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})]})]})})}),(0,J.jsx)("main",{className:"relative z-10 max-w-[1920px] mx-auto px-6 py-6",children:(0,J.jsxs)(tR,{sensors:f,collisionDetection:eN,onDragStart:e=>{o(e.active.id)},onDragOver:r=>{let{active:i,over:n}=r;if(!n)return;let s=e.find(e=>e.id===i.id),a=dy.find(e=>e.id===n.id);s&&a&&s.status!==a.id&&t(e=>e.map(e=>e.id===i.id?{...e,status:a.id}:e))},onDragEnd:r=>{let{active:i,over:n}=r;if(o(null),!n)return;let a=e.find(e=>e.id===i.id),l=dy.find(e=>e.id===n.id);if(a&&l&&a.status!==l.id){let e={id:Date.now().toString(),type:"status_change",message:`"${a.title}" moved to ${l.title}`,timestamp:new Date().toISOString()};s(t=>[e,...t]),t(e=>e.map(e=>e.id===i.id?{...e,status:l.id,updatedAt:new Date().toISOString(),completedAt:"completed"===l.id?new Date().toISOString():e.completedAt,progress:"completed"===l.id?100:e.progress}:e))}},children:[(0,J.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,J.jsx)("div",{className:"col-span-12 lg:col-span-8",children:(0,J.jsx)("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-4",children:dy.map(t=>(0,J.jsx)(dw,{column:t,tasks:e.filter(e=>e.status===t.id),onAddTask:m},t.id))})}),(0,J.jsx)("div",{className:"col-span-12 lg:col-span-4",children:(0,J.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-1 gap-4 h-full",children:[(0,J.jsx)("div",{className:"h-[300px] lg:h-[280px]",children:(0,J.jsx)(dx,{messages:r,onSend:e=>{let t={id:Date.now().toString(),sender:"user",content:e,timestamp:new Date().toISOString()};i(e=>[...e,t]),setTimeout(()=>{let e={id:(Date.now()+1).toString(),sender:"mist",content:"Recibido. Procesando tu solicitud...",timestamp:new Date().toISOString()};i(t=>[...t,e])},1e3)}})}),(0,J.jsx)("div",{className:"h-[300px] lg:h-[280px]",children:(0,J.jsx)(dk,{activities:n})})]})})]}),(0,J.jsx)(tF,{dropAnimation:g,children:y?(0,J.jsx)(db,{task:y,isOverlay:!0}):null})]})}),(0,J.jsx)(dS,{isOpen:l,onClose:()=>u(!1),onSave:e=>{let r={id:Date.now().toString(),title:e.title,description:e.description,status:e.status,progress:e.progress||0,assignee:e.assignee||"mist",tags:e.tags||[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t(e=>[r,...e]);let i={id:Date.now().toString(),type:"create",message:`New mission created: "${r.title}"`,timestamp:new Date().toISOString()};s(e=>[i,...e])},initialStatus:c})]})}e.s(["default",()=>d_],32599)}]);